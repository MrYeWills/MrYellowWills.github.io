<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    
    
    <title>正则表达式 | Mr.Yellow.Wills</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="正则">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/jquery.fancybox.min.css">
    <link rel="stylesheet" href="/css/style.css?v=1.3.9">
    
    <script type="text/javascript">
        // Data Center
        var DC = {
            reward:	true,
            lv: JSON.parse('{"enable":false,"app_id":null,"app_key":null,"icon":true}'),
            v: JSON.parse('{"enable":false,"appid":null,"appkey":null,"notify":true,"verify":true,"placeholder":"give me some sugers plz...","avatar":"wavatar"}'),
            g: JSON.parse('{"enable":false,"lazy":true,"owner":"codefine","repo":"gitment","oauth":{"client_id":null,"client_secret":null},"perPage":10}'),
            d: JSON.parse('{"app_id":null}')
        };
    </script>
    <script type="text/javascript">
        window.lazyScripts=[];
    </script>
    
</head>


<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      
      <img src="/img/brand.jpg" class="brand-bg">
      
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Mr.Yellow</h5>
          <a href="mailto:601661706@qq.com" title="601661706@qq.com" class="mail">
            
              <span>6</span>
            
              <span>0</span>
            
              <span>1</span>
            
              <span>6</span>
            
              <span>6</span>
            
              <span>1</span>
            
              <span>7</span>
            
              <span>0</span>
            
              <span>6</span>
            
              <span>@</span>
            
              <span>q</span>
            
              <span>q</span>
            
              <span>.</span>
            
              <span>c</span>
            
              <span>o</span>
            
              <span>m</span>
            
          </a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://github.com/YeWills/YeWills.github.io/tree/blog_code" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                HOME
              </a>
            </li>
        
            <li class="">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                CATEGORIES
              </a>
            </li>
        
            <li class="">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                TAGS
              </a>
            </li>
        
            <li class="">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                ARCHIVES
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>正则表达式</span>
            
        </div>
        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">
    <img src="/img/banner.jpg" class="header-bg">
    <div class="container fade-scale">
        <h1 class="title">正则表达式</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-05-01T00:00:00.000Z" itemprop="datePublished" class="page-time">
  2020-05-01
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/前端/">前端</a></li></ul>

            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>


<div class="container body-wrap">
    <article id="post-regex"
  class="post-article article-type-post" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">正则表达式</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-05-01 00:00:00" datetime="2020-05-01T00:00:00.000Z"  itemprop="datePublished">2020-05-01</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/前端/">前端</a></li></ul>



            

            


            
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            
            <p>用正则久矣，一直想出一篇这方面的笔记，用来记录<strong>重难点</strong>。<br>博客重度参考慕课教程<a href="https://www.imooc.com/coursescore/706" target="_blank" rel="noopener">JavaScript正则表达式</a></p>
<h3 id="regexper-com"><a href="#regexper-com" class="headerlink" title="regexper.com"></a>regexper.com</h3><p>这是一个很好的正则网址，此网不会用，可能显得不上档次？<a href="https://regexper.com/" target="_blank" rel="noopener">regexper.com</a>，这个网址如果受外网限制不好访问的话，也可通过npm安装到本地访问，具体谷歌或看上面的慕课教程。<br><figure class="image-box">
                <a rel=正则表达式 href="/image/regex/com.jpg" title="undefined" data-fancybox="images"><img src="/image/regex/com.jpg" alt title class></a>
                <p></p>
            </figure></p>
<h3 id="m-多行搜索"><a href="#m-多行搜索" class="headerlink" title="m 多行搜索"></a>m 多行搜索</h3><h4 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h4><p>正则有如下修饰符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">g:global 全文搜索 不添加只搜索第一个匹配即停止</span><br><span class="line">i : ignore case 忽略大小写 默认是大小写敏感</span><br><span class="line">m: multiple lines  多行搜索</span><br></pre></td></tr></table></figure></p>
<h4 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h4><p>使用多行修饰符后，就可以匹配每一行的^开头字符。<br><figure class="image-box">
                <a rel=正则表达式 href="/image/regex/mult.jpg" title="undefined" data-fancybox="images"><img src="/image/regex/mult.jpg" alt title class></a>
                <p></p>
            </figure></p>
<h3 id="元字符"><a href="#元字符" class="headerlink" title="元字符"></a>元字符</h3><h4 id="t-tab"><a href="#t-tab" class="headerlink" title="\t tab"></a>\t tab</h4><p>此符号，在mac下按下一个tab键，使用下面表达式不成立，在有些电脑上又可以，目前尚不知原因。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/\t/.test(&apos;    &apos;)</span><br></pre></td></tr></table></figure></p>
<h3 id="字符类-的概念"><a href="#字符类-的概念" class="headerlink" title="字符类 的概念"></a>字符类 的概念</h3><ul>
<li>我们可以使用元字符[]来构建一个简单类；</li>
<li>所谓类是指符合某些特性的对象，一个泛指，而不是特指某个字符</li>
<li>表达式[abc]把字符a或b或c归为一类，表达式可以匹配这类字符。</li>
</ul>
<h3 id="字符类取反"><a href="#字符类取反" class="headerlink" title="字符类取反"></a>字符类取反</h3><ul>
<li>使用元字符^创建 反向类／负向类</li>
<li>反向类的意思是不属于某类的内容</li>
<li>表达式[^abc]表示 不是字符a或b或c的内容；</li>
</ul>
<h3 id="与-范围类"><a href="#与-范围类" class="headerlink" title="- 与 范围类"></a>- 与 范围类</h3><h4 id="常见范围类-a-zA-Z"><a href="#常见范围类-a-zA-Z" class="headerlink" title="常见范围类 [a-zA-Z]"></a>常见范围类 [a-zA-Z]</h4><p>如上，它们通过-来拼接一个范围类；<br>下面的形式通常可以表示一个范围类：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符-字符</span><br></pre></td></tr></table></figure></p>
<p>假如前后字符为 0、9，a、z；那么就被识别，构成一个常见的范围类；<br>因此当-位于两个字符之间时，如果两个字符可以被识别，那么此-具有特殊意义，表示范围类的意思；<br>如果不是位于两个字符之间，-匹配自身-；</p>
<h4 id="位于两个字符之间时的特殊意义"><a href="#位于两个字符之间时的特殊意义" class="headerlink" title="-位于两个字符之间时的特殊意义"></a>-位于两个字符之间时的特殊意义</h4><p>见上面的说明。</p>
<h3 id="预定义类"><a href="#预定义类" class="headerlink" title="预定义类"></a>预定义类</h3><p>既然[0-9]表示范围类，正则使用预定义类来预先规定好逻辑直接表示这个范围类，下面是常见预定义类：<br><figure class="image-box">
                <a rel=正则表达式 href="/image/regex/before.jpg" title="undefined" data-fancybox="images"><img src="/image/regex/before.jpg" alt title class></a>
                <p></p>
            </figure></p>
<h3 id="贪婪-非贪婪模式"><a href="#贪婪-非贪婪模式" class="headerlink" title="贪婪\非贪婪模式"></a>贪婪\非贪婪模式</h3><h4 id="贪婪模式-默认"><a href="#贪婪模式-默认" class="headerlink" title="贪婪模式(默认)"></a>贪婪模式(默认)</h4><p>如下，正则可以匹配3到6个，默认情况下正则匹配最大数6，是为贪婪模式。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&apos;12345678&apos;.replace(/\d&#123;3,6&#125;/g,&apos;X&apos;) //X78</span><br></pre></td></tr></table></figure></p>
<h4 id="量词后加？变成非贪婪模式"><a href="#量词后加？变成非贪婪模式" class="headerlink" title="量词后加？变成非贪婪模式"></a>量词后加？变成非贪婪模式</h4><p>非贪婪模式指可以匹配3到6个时，指匹配最小值3，{3,6}是量词：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&apos;12345678&apos;.replace(/\d&#123;3,6&#125;?/g,&apos;X&apos;) //XX78</span><br></pre></td></tr></table></figure></p>
<h3 id="分组与或"><a href="#分组与或" class="headerlink" title="分组与或"></a>分组与或</h3><h4 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h4><figure class="image-box">
                <a rel=正则表达式 href="/image/regex/group2.jpg" title="undefined" data-fancybox="images"><img src="/image/regex/group2.jpg" alt title class></a>
                <p></p>
            </figure>
<h4 id="忽略分组"><a href="#忽略分组" class="headerlink" title="忽略分组 (?:)"></a>忽略分组 (?:)</h4><figure class="image-box">
                <a rel=正则表达式 href="/image/regex/group3.jpg" title="undefined" data-fancybox="images"><img src="/image/regex/group3.jpg" alt title class></a>
                <p></p>
            </figure>
<p>更多知识参考 《关于 忽略分组 (?:)》</p>
<h4 id="或与分组"><a href="#或与分组" class="headerlink" title="或与分组"></a>或与分组</h4><figure class="image-box">
                <a rel=正则表达式 href="/image/regex/group1.jpg" title="undefined" data-fancybox="images"><img src="/image/regex/group1.jpg" alt title class></a>
                <p></p>
            </figure>
<h4 id="或的边界值理解"><a href="#或的边界值理解" class="headerlink" title="或的边界值理解"></a>或的边界值理解</h4><p>参考下面的 《|或的使用》</p>
<h3 id="关于-忽略分组"><a href="#关于-忽略分组" class="headerlink" title="关于 忽略分组 (?:)"></a>关于 忽略分组 (?:)</h3><h4 id="分组与忽略的妙用一"><a href="#分组与忽略的妙用一" class="headerlink" title="分组与忽略的妙用一"></a>分组与忽略的妙用一</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'ppp; %24CC_test_session=AC_yyyy999;tianruoyouqing'</span></span><br><span class="line"><span class="comment">//  /(?:^|; )%24CC_test_session=([^;]*)/</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">`(?:^|; )<span class="subst">$&#123;<span class="built_in">escape</span>(<span class="built_in">String</span>(<span class="string">'$CC_test_session'</span>))&#125;</span>=([^;]*)`</span>)</span><br><span class="line"></span><br><span class="line">reg.exec(str) <span class="comment">// ['; %24CC_test_session=AC_yyyy999', 'AC_yyyy999', index: 3, input: 'ppp; %24CC_test_session=AC_yyyy999;tianruoyouqing', groups: undefined]</span></span><br></pre></td></tr></table></figure>
<p>上面正则中 <code>(?:^|; )</code> 我必须要用到或，而这个或只用于判断 ^ 与 ; 两种情况，此时就用小括号分组一下<br>但是，我又希望这个分组不要用于分割返回结果，此时用 忽略分组 (?:)，</p>
<h3 id="前瞻"><a href="#前瞻" class="headerlink" title="前瞻"></a>前瞻</h3><h4 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h4><figure class="image-box">
                <a rel=正则表达式 href="/image/regex/above.jpg" title="undefined" data-fancybox="images"><img src="/image/regex/above.jpg" alt title class></a>
                <p></p>
            </figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'a2*aa'</span>.replace(<span class="regexp">/\w(?=\d)/</span>,<span class="string">'H'</span>)    <span class="comment">//正向前瞻 "H2*aa"单词字符后面是数字的</span></span><br><span class="line"></span><br><span class="line"><span class="string">'dd4sfc'</span>.replace(<span class="regexp">/\w(?!\d)/</span>,<span class="string">'G'</span>);    <span class="comment">//负向前瞻 "Gd4sfc"单词字符后面不是数字的 ，下面《demo - 密码》有这个的应用</span></span><br></pre></td></tr></table></figure>
<h4 id="断言"><a href="#断言" class="headerlink" title="断言"></a>断言</h4><p>如上图片里面的 assert就是断言，断言是一个表达式，可运用与 正向前瞻和后向前瞻。</p>
<h4 id="正向与负向的难理解性"><a href="#正向与负向的难理解性" class="headerlink" title="正向与负向的难理解性"></a>正向与负向的难理解性</h4><p>刚开始听到正向负向会理解成其他意思，其实就是后面匹配断言assert与匹配相反的断言assert；<br>也可以说成是后面匹配断言的正向表达意思，和匹配 断言的负向（相反方向）的表达意思；</p>
<h4 id="正向前瞻"><a href="#正向前瞻" class="headerlink" title="正向前瞻?="></a>正向前瞻?=</h4><p>参考上面概述</p>
<h4 id="负向前瞻"><a href="#负向前瞻" class="headerlink" title="负向前瞻?!"></a>负向前瞻?!</h4><p>参考上面概述</p>
<h3 id="正则式的对象性"><a href="#正则式的对象性" class="headerlink" title="正则式的对象性"></a>正则式的对象性</h3><p>每一个正则式都是一个对象（ new RegExp() ）,因此都具有如下属性。</p>
<ul>
<li>global：是否全文搜索，默认false</li>
<li>ignore case：是否大小写敏感，默认是false</li>
<li>multiline：多行搜索，默认值是false</li>
<li>lastIndex：当前表达式匹配内容的最后一个字符的下一个位置</li>
<li>source：正则表达式的文本字符串<figure class="image-box">
                <a rel=正则表达式 href="/image/regex/attr.jpg" title="undefined" data-fancybox="images"><img src="/image/regex/attr.jpg" alt title class></a>
                <p></p>
            </figure>
</li>
</ul>
<h3 id="子表达式"><a href="#子表达式" class="headerlink" title="子表达式"></a>子表达式</h3><p>子表达式为正则内的分组，如下有两个子表达式(\w)与(abc)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var reg4 = /\d(\w)(abc)\d/g;</span><br></pre></td></tr></table></figure></p>
<h3 id="lastIndex让你怀疑人生"><a href="#lastIndex让你怀疑人生" class="headerlink" title="lastIndex让你怀疑人生"></a>lastIndex让你怀疑人生</h3><h4 id="test的现象"><a href="#test的现象" class="headerlink" title="test的现象"></a>test的现象</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//每次执行下面代码都是对的</span><br><span class="line">/\w/g.test(&apos;a&apos;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//每次执行下面代码都是对的</span><br><span class="line">var reg = /\w/g;</span><br><span class="line">reg.test(&apos;a&apos;) //true</span><br><span class="line">reg.test(&apos;a&apos;) //false</span><br><span class="line">reg.test(&apos;a&apos;) //true</span><br><span class="line">reg.test(&apos;a&apos;) //false</span><br></pre></td></tr></table></figure>
<h4 id="每次test后正则式的lastIndex改变"><a href="#每次test后正则式的lastIndex改变" class="headerlink" title="每次test后正则式的lastIndex改变"></a>每次test后正则式的lastIndex改变</h4><p>如下，reg不仅是正则式，而且是对象，每执行完一次test，都会让reg的lastIndex发生变化，从而在下次匹配时有所不同，产生了不同结果。<br>每一次匹配成功后lastIndex会得到一个非零值，当匹配失败后，lastIndex值将置为零。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//每次执行下面代码都是对的</span><br><span class="line">var reg = /\w/g;  //reg.lastIndex=0</span><br><span class="line">reg.test(&apos;a&apos;) //true //reg.lastIndex=1</span><br><span class="line">reg.test(&apos;a&apos;) //false //reg.lastIndex=1 --&gt; reg.lastIndex=0</span><br><span class="line">reg.test(&apos;a&apos;) //true //reg.lastIndex=1</span><br><span class="line">reg.test(&apos;a&apos;) //false //reg.lastIndex=1 --&gt; reg.lastIndex=0</span><br></pre></td></tr></table></figure></p>
<h4 id="目前只发现在全局g的正则存在此现象"><a href="#目前只发现在全局g的正则存在此现象" class="headerlink" title="目前只发现在全局g的正则存在此现象"></a>目前只发现在全局g的正则存在此现象</h4><p>如上，目前只存在于g的正则式，非全局尚未发现此现象。因为非全局的lastIndex值都是0，而0有两成意思：第一 从0位置开始匹配；第二 lastIndex无效；所以在非全局下lastIndex可能无效(待考证)</p>
<h4 id="非全局下lastIndex无效？"><a href="#非全局下lastIndex无效？" class="headerlink" title="非全局下lastIndex无效？"></a>非全局下lastIndex无效？</h4><p>参考上面分析。</p>
<h4 id="exec也有此现象"><a href="#exec也有此现象" class="headerlink" title="exec也有此现象"></a>exec也有此现象</h4><p>exec也有此现象，其他方法可能还有此现象，原因同test方法一样分析：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//每次exec执行的结果不一样</span><br><span class="line">var reg4 = /\d(\w)(\w)\d/g;</span><br><span class="line">var str = &quot;$1az2bb3cy4dd5ee&quot;;</span><br><span class="line">reg4.exec(str) //[&quot;1az2&quot;, &quot;a&quot;, &quot;z&quot;] //index: 1</span><br><span class="line">reg4.exec(str) //[&quot;3cy4&quot;, &quot;c&quot;, &quot;y&quot;] //index: 7</span><br></pre></td></tr></table></figure></p>
<h4 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h4><p>每次匹配前，手动地把lastIndex属性重置为0。</p>
<h4 id="lastIndex为0的双重意思"><a href="#lastIndex为0的双重意思" class="headerlink" title="lastIndex为0的双重意思"></a>lastIndex为0的双重意思</h4><p>参考《目前只发现在全局g的正则存在此现象》</p>
<h3 id="exec"><a href="#exec" class="headerlink" title="exec"></a>exec</h3><h4 id="概述-2"><a href="#概述-2" class="headerlink" title="概述"></a>概述</h4><figure class="image-box">
                <a rel=正则表达式 href="/image/regex/exec.jpg" title="undefined" data-fancybox="images"><img src="/image/regex/exec.jpg" alt title class></a>
                <p></p>
            </figure>
<p>在非全局匹配模式下，此函数的作用和match()函数是一样的，只能够在字符串中匹配一次，如果没有找到匹配的字符串，那么返回null，否则将返回一个数组。</p>
<h4 id="子表达式-1"><a href="#子表达式-1" class="headerlink" title="子表达式"></a>子表达式</h4><p>参考《子表达式》</p>
<h4 id="返回数组内容"><a href="#返回数组内容" class="headerlink" title="返回数组内容"></a>返回数组内容</h4><ul>
<li>数组的第0个元素存储的是匹配字符串</li>
<li>第1个元素存放的是第一个引用型分组(子表达式)匹配的字符串，</li>
<li>第2个元素存放的是第二个引用型分组(子表达式)匹配的字符串，依次类推。<h4 id="返回数组属性"><a href="#返回数组属性" class="headerlink" title="返回数组属性"></a>返回数组属性</h4>返回数组还包括两个对象属性，</li>
<li>index属性声明的是匹配字符串的起始字符在要匹配的完整字符串中的位置，</li>
<li>input属性声明的是对要匹配的完整字符串的引用。</li>
</ul>
<h3 id="match"><a href="#match" class="headerlink" title="match"></a>match</h3><h4 id="是否全局影响很大"><a href="#是否全局影响很大" class="headerlink" title="是否全局影响很大"></a>是否全局影响很大</h4><p>match（）方法将检索字符串，以找到一个或多个与regexp匹配的文本<br>regexp是否具有标志g对结果影响很大</p>
<h4 id="非全局模式"><a href="#非全局模式" class="headerlink" title="非全局模式"></a>非全局模式</h4><p>如果regexp没有标志g，那么match（）方法就只能在字符串中执行一次匹配，没找到任何匹配文本将返回null，否则将返回一个数组，数组存放了与它找到的匹配文本有关的信息<br>返回数组内容与exec的一致，请参考《exec – 返回数组内容》《exec – 返回数组属性》<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var reg4 = /\d(\w)(\w)\d/;</span><br><span class="line">var str = &quot;$1az2bb3cy4dd5ee&quot;;</span><br><span class="line">str.match(reg3) //[&quot;1az2&quot;, &quot;a&quot;, &quot;z&quot;] //index: 1 input: &quot;$1az2bb3cy4dd5ee&quot;</span><br></pre></td></tr></table></figure></p>
<h4 id="全局模式"><a href="#全局模式" class="headerlink" title="全局模式"></a>全局模式</h4><p>如果regexp具有标志g则match（）方法将执行全局检索，找到字符串中的所有匹配子字符串：没有找到任何匹配的子穿，则返回null，<br>否则返回一个数组，数组元素中存放的是字符串中所有匹配子串，而且也没有index属性或input属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var reg4 = /\d(\w)(\w)\d/g;</span><br><span class="line">var str = &quot;$1az2bb3cy4dd5ee&quot;;</span><br><span class="line">str.match(reg3) //[&quot;1az2&quot;, &quot;3cy4&quot;]</span><br></pre></td></tr></table></figure></p>
<h3 id="match与exec异同"><a href="#match与exec异同" class="headerlink" title="match与exec异同"></a>match与exec异同</h3><h4 id="在非全局下-二者结果相同"><a href="#在非全局下-二者结果相同" class="headerlink" title="在非全局下 二者结果相同"></a>在非全局下 二者结果相同</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var reg4 = /\d(\w)(\w)\d/;</span><br><span class="line">var str = &quot;$1az2bb3cy4dd5ee&quot;;</span><br><span class="line">reg4.exec(str) //[&quot;1az2&quot;, &quot;a&quot;, &quot;z&quot;, index: 1, input: &quot;$1az2bb3cy4dd5ee&quot;, groups: undefined]</span><br><span class="line">str.match(reg4) //[&quot;1az2&quot;, &quot;a&quot;, &quot;z&quot;, index: 1, input: &quot;$1az2bb3cy4dd5ee&quot;, groups: undefined]</span><br></pre></td></tr></table></figure>
<h4 id="在全局下，有差别"><a href="#在全局下，有差别" class="headerlink" title="在全局下，有差别"></a>在全局下，有差别</h4><p>全局下，exec返回的结果格式与非全局下一样；但match却只返回匹配的文本，不再返回子表达式信息。</p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><h4 id="s匹配空白而不仅仅空格"><a href="#s匹配空白而不仅仅空格" class="headerlink" title="\s匹配空白而不仅仅空格"></a>\s匹配空白而不仅仅空格</h4><p>以下都成立：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/\s/.test(<span class="string">'\n'</span>)</span><br><span class="line">/\s/.test(<span class="string">'\r'</span>) <span class="comment">//回车</span></span><br><span class="line">/\s/.test(<span class="string">' '</span>)</span><br><span class="line">/\s/.test(<span class="string">'\xA0'</span>) <span class="comment">//\xA0就是&amp;nbsp;</span></span><br></pre></td></tr></table></figure></p>
<h4 id="常见元字符"><a href="#常见元字符" class="headerlink" title="常见元字符"></a>常见元字符</h4><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener">点击mdn查看</a></p>
<h4 id="split-reg"><a href="#split-reg" class="headerlink" title="split(reg)"></a>split(reg)</h4><p>除了字符串，也可以使用正则来split。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&apos;1b3c4d&apos;.split(/\d/) //[&quot;&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span><br></pre></td></tr></table></figure></p>
<h4 id="多个正则合并使用"><a href="#多个正则合并使用" class="headerlink" title="多个正则合并使用"></a>多个正则合并使用</h4><p>限制只能输入3位小数点：<br>这个例子也是或|的经典应用<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/^[<span class="number">1</span><span class="number">-9</span>][<span class="number">0</span><span class="number">-9</span>]*\.[<span class="number">0</span><span class="number">-9</span>]&#123;<span class="number">0</span>,<span class="number">3</span>&#125;$|^[<span class="number">1</span><span class="number">-9</span>][<span class="number">0</span><span class="number">-9</span>]*$|^<span class="number">0</span>\.?$|^<span class="number">0</span>\.[<span class="number">0</span><span class="number">-9</span>]&#123;<span class="number">0</span>,<span class="number">3</span>&#125;$/;</span><br></pre></td></tr></table></figure></p>
<p>合并前：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/^[<span class="number">1</span><span class="number">-9</span>][<span class="number">0</span><span class="number">-9</span>]*\.[<span class="number">0</span><span class="number">-9</span>]&#123;<span class="number">0</span>,<span class="number">3</span>&#125;$/.test(str)</span><br><span class="line">/^[<span class="number">1</span><span class="number">-9</span>][<span class="number">0</span><span class="number">-9</span>]*$/.test(str)</span><br><span class="line">/^<span class="number">0</span>\.?$/.test(str)</span><br><span class="line">/^<span class="number">0</span>\.[<span class="number">0</span><span class="number">-9</span>]&#123;<span class="number">0</span>,<span class="number">3</span>&#125;$/.test(str)</span><br></pre></td></tr></table></figure></p>
<h4 id="或的使用"><a href="#或的使用" class="headerlink" title="|或的使用"></a>|或的使用</h4><p>通过本篇的几个有关或的示例看出，<br>要理解或，最关键的是要理解 或的边界如何确定，<br>只要理解了或的边界了，那么问题就很好分析了，<br>或的边界 </p>
<ul>
<li>应该是 下一个|，</li>
<li>如果没有 就是最近的一个 分组符合<code>(</code>，</li>
<li>如果没有就是所有字符，<br>比如：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/rr|<span class="number">123</span>|abc/  <span class="comment">//边界下一个|</span></span><br><span class="line">/rr(<span class="number">123</span>|abc)/  <span class="comment">//边界 最近的一个 分组符合`(`</span></span><br><span class="line">/<span class="number">123111</span>|abcttt/ <span class="comment">//边界 如果没有就是所有字符</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>参考《多个正则合并使用》</p>
<p>示例二：<br>| 在 replace上的运用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> url = <span class="string">'/test/good/detail'</span></span><br><span class="line">url.slice(url.split(<span class="string">"/"</span>)[<span class="number">0</span>].length + <span class="number">1</span>).replace(<span class="regexp">/\/|\?|\=|\*/g</span>,<span class="string">"_"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">url: </span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> url = <span class="string">"/test/good?type=1_10"</span></span><br><span class="line">url.slice(url.split(<span class="string">"/"</span>)[<span class="number">0</span>].length + <span class="number">1</span>).replace(<span class="regexp">/\/|\?|\=|\*/g</span>,<span class="string">"_"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 用上面的正则其实用 下面联合replace效果一样：</span></span><br><span class="line">/[\/\?\=\*]/g</span><br></pre></td></tr></table></figure>
<h3 id="demo-1"><a href="#demo-1" class="headerlink" title="demo"></a>demo</h3><h4 id="密码"><a href="#密码" class="headerlink" title="密码"></a>密码</h4><p>本例是?!的经典应用<br>要求： 8~32位字符，字母、数字、特殊字符任意三种组成，特殊字符为!@#$%^&amp;*()_+-=<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/^(?![a-zA-z]+$)(?!\d+$)(?![!@#$%^&amp;*=\-\+\(\)\_]+$)(?![a-zA-z\d]+$)(?![a-zA-z!@#$%^&amp;*=\-\+\(\)\_]+$)(?![\d!@#$%^&amp;*=\-\+\(\)\_]+$)[a-zA-Z\d!@#$%^&amp;*=\-\+\(\)\_]&#123;8,32&#125;$/</span><br></pre></td></tr></table></figure></p>
<p>这个表达式先看最右侧<code>[a-zA-Z\d!@#$%^&amp;*=\-\+\(\)\_]{8,32}</code>这是一个全匹配，然后利用剔除法，一个个剔除以下情况：</p>
<ul>
<li>全是字母 <code>(?![a-zA-z]+$)</code></li>
<li>全是数字 <code>(?!\d+$)</code></li>
<li>全是特殊字符 <code>(?![!@#$%^&amp;*=\-\+\(\)\_]+$)</code></li>
<li>字母与数字 <code>(?![a-zA-z\d]+$)</code><br>等等。<br>剔除到最后，就只剩下一种情况，字母、数字、特殊字符任意三种组成。<figure class="image-box">
                <a rel=正则表达式 href="/image/regex/false.png" title="undefined" data-fancybox="images"><img src="/image/regex/false.png" alt title class></a>
                <p></p>
            </figure>
<a href="https://www.cnblogs.com/lsyy2017/p/12229940.html" target="_blank" rel="noopener"></a></li>
</ul>
<p><strong>注意的是，这几个特殊字符中这几个<code>()_+-=</code>，要带反斜杠转义</strong>，否则就会出问题，比如特殊字符 不包括<code>，；</code>等这些，也会被错误匹配</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener">mdn</a></p>
<h4 id="千分位-与-amp"><a href="#千分位-与-amp" class="headerlink" title="千分位 与 $&amp;"></a>千分位 与 $&amp;</h4><p>注意 ?: 的妙用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">thousandth</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> str.replace(<span class="regexp">/\d(?=(?:\d&#123;3&#125;)+(?:\.\d+|$))/g</span>, <span class="string">'$&amp;,'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 上面的正则表达式，经过改良，应该为, 这样就可以匹配 thousandth('12345.') 的情况：</span></span><br><span class="line"> str.replace(<span class="regexp">/\d(?=(?:\d&#123;3&#125;)+(?:\.\d*|$))/g</span>, <span class="string">'$&amp;,'</span>);</span><br></pre></td></tr></table></figure>
<p>千分位的思路应该是，不管小数点后面的东西，只管小数点左侧的，或者完全没有小数点,只关注整数：<br>比如：<br>1234.01 ，我们只想找到上面左侧的1,然后在其后加 ‘,’;<br>12345.01 ，我们只想找到2,然后在其后加 ‘,’;<br>1234567.01 ，我们只想找到4和1,然后在其后加 ‘,’;</p>
<p>要想找到以上的左侧想要的1 或 2 或 4 1，其实就是基于其右侧的条件决定，<br>这就决定了需要配合断言；<br>那么我们要找的数字 就是 \d;<br>简单的断言就是 (?=\d{3})；<br>但 只要3的倍数都可以，因此可以写成：(?=(\d{3})+)<br>要想将一个表达式作为一个整体，最好使用 ?: ,这样符合正则的阅读习惯，因此写成 (?=(?:\d{3})+)</p>
<p>数字可能直接以此结尾，也可能是小数点，因此可写成 (.\d+|$)</p>
<p>为了装逼也好，还是符合正则的阅读习惯，将(.\d+|$) 连成一个表达式,我们就加一个?:，因此成了 (?:.\d+|$)</p>
<p>整体连起来就是：str.replace(/\d(?=(?:\d{3})+(.\d+|$))/g, ‘$&amp;,’)</p>
<p>附：<br>关于$&amp;的解释<br>参考<a href="https://stackoverflow.com/questions/34510746/difference-between-1-and-in-regular-expressions" target="_blank" rel="noopener">https://stackoverflow.com/questions/34510746/difference-between-1-and-in-regular-expressions</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The $&amp; is a backreference to the whole match, while $1 is a backreference to the submatch captured with capturing group 1.</span><br></pre></td></tr></table></figure></p>
<p>(?:x)[<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions]" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions]</a> ：<br>匹配 ‘x’ 但是不记住匹配项。这种括号叫作非捕获括号，使得你能够定义与正则表达式运算符一起使用的子表达式。<br>看看这个例子 /(?:foo){1,2}/。<br>如果表达式是 /foo{1,2}/，{1,2} 将只应用于 ‘foo’ 的最后一个字符 ‘o’。<br>如果使用非捕获括号，则 {1,2} 会应用于整个 ‘foo’ 单词。<br>更多信息，可以参阅下文的 Using parentheses 条目.</p>

        </div>
        
<blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2023-02-11T09:14:40.206Z" itemprop="dateUpdated">2023-02-11 09:14:40</time>
</span><br>


        
        博客内容均为原创，转载注明出处，原文地址：<a href="/2020/05/01/regex/" target="_blank" rel="external">https://yewills.github.io/2020/05/01/regex/</a>
        
    </div>
    <footer>
        <a href="https://yewills.github.io">
            <img src="/img/avatar.jpg" alt="Mr.Yellow">
            Mr.Yellow
        </a>
    </footer>
</blockquote>

        
            <div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>

            
        
        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/正则/">正则</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://yewills.github.io/2020/05/01/regex/&title=《正则表达式》 — Mr.Yellow.Wills&pic=https://yewills.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://yewills.github.io/2020/05/01/regex/&title=《正则表达式》 — Mr.Yellow.Wills&source=hellow kity" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
            


        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="prev">
      <a href="/2020/05/01/react_redux/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">react-redux笔记</h4>
      </a>
    </div>
  

  
    <div class="next">
      <a href="/2020/05/01/ts/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">typescript 笔记</h4>
      </a>
    </div>
  
</nav>


    
    
        <aside class="post-widget">
            <nav class="post-toc-wrap" id="post-toc">
                <strong>目录</strong>
                <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#regexper-com"><span class="post-toc-number">1.</span> <span class="post-toc-text">regexper.com</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#m-多行搜索"><span class="post-toc-number">2.</span> <span class="post-toc-text">m 多行搜索</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#修饰符"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">修饰符</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#demo"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">demo</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#元字符"><span class="post-toc-number">3.</span> <span class="post-toc-text">元字符</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#t-tab"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">\t tab</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#字符类-的概念"><span class="post-toc-number">4.</span> <span class="post-toc-text">字符类 的概念</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#字符类取反"><span class="post-toc-number">5.</span> <span class="post-toc-text">字符类取反</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#与-范围类"><span class="post-toc-number">6.</span> <span class="post-toc-text">- 与 范围类</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#常见范围类-a-zA-Z"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">常见范围类 [a-zA-Z]</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#位于两个字符之间时的特殊意义"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">-位于两个字符之间时的特殊意义</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#预定义类"><span class="post-toc-number">7.</span> <span class="post-toc-text">预定义类</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#贪婪-非贪婪模式"><span class="post-toc-number">8.</span> <span class="post-toc-text">贪婪\非贪婪模式</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#贪婪模式-默认"><span class="post-toc-number">8.1.</span> <span class="post-toc-text">贪婪模式(默认)</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#量词后加？变成非贪婪模式"><span class="post-toc-number">8.2.</span> <span class="post-toc-text">量词后加？变成非贪婪模式</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#分组与或"><span class="post-toc-number">9.</span> <span class="post-toc-text">分组与或</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#概述"><span class="post-toc-number">9.1.</span> <span class="post-toc-text">概述</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#忽略分组"><span class="post-toc-number">9.2.</span> <span class="post-toc-text">忽略分组 (?:)</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#或与分组"><span class="post-toc-number">9.3.</span> <span class="post-toc-text">或与分组</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#或的边界值理解"><span class="post-toc-number">9.4.</span> <span class="post-toc-text">或的边界值理解</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#关于-忽略分组"><span class="post-toc-number">10.</span> <span class="post-toc-text">关于 忽略分组 (?:)</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#分组与忽略的妙用一"><span class="post-toc-number">10.1.</span> <span class="post-toc-text">分组与忽略的妙用一</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#前瞻"><span class="post-toc-number">11.</span> <span class="post-toc-text">前瞻</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#概述-1"><span class="post-toc-number">11.1.</span> <span class="post-toc-text">概述</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#断言"><span class="post-toc-number">11.2.</span> <span class="post-toc-text">断言</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#正向与负向的难理解性"><span class="post-toc-number">11.3.</span> <span class="post-toc-text">正向与负向的难理解性</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#正向前瞻"><span class="post-toc-number">11.4.</span> <span class="post-toc-text">正向前瞻?=</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#负向前瞻"><span class="post-toc-number">11.5.</span> <span class="post-toc-text">负向前瞻?!</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#正则式的对象性"><span class="post-toc-number">12.</span> <span class="post-toc-text">正则式的对象性</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#子表达式"><span class="post-toc-number">13.</span> <span class="post-toc-text">子表达式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#lastIndex让你怀疑人生"><span class="post-toc-number">14.</span> <span class="post-toc-text">lastIndex让你怀疑人生</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#test的现象"><span class="post-toc-number">14.1.</span> <span class="post-toc-text">test的现象</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#每次test后正则式的lastIndex改变"><span class="post-toc-number">14.2.</span> <span class="post-toc-text">每次test后正则式的lastIndex改变</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#目前只发现在全局g的正则存在此现象"><span class="post-toc-number">14.3.</span> <span class="post-toc-text">目前只发现在全局g的正则存在此现象</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#非全局下lastIndex无效？"><span class="post-toc-number">14.4.</span> <span class="post-toc-text">非全局下lastIndex无效？</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#exec也有此现象"><span class="post-toc-number">14.5.</span> <span class="post-toc-text">exec也有此现象</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#解决方法"><span class="post-toc-number">14.6.</span> <span class="post-toc-text">解决方法</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#lastIndex为0的双重意思"><span class="post-toc-number">14.7.</span> <span class="post-toc-text">lastIndex为0的双重意思</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#exec"><span class="post-toc-number">15.</span> <span class="post-toc-text">exec</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#概述-2"><span class="post-toc-number">15.1.</span> <span class="post-toc-text">概述</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#子表达式-1"><span class="post-toc-number">15.2.</span> <span class="post-toc-text">子表达式</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#返回数组内容"><span class="post-toc-number">15.3.</span> <span class="post-toc-text">返回数组内容</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#返回数组属性"><span class="post-toc-number">15.4.</span> <span class="post-toc-text">返回数组属性</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#match"><span class="post-toc-number">16.</span> <span class="post-toc-text">match</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#是否全局影响很大"><span class="post-toc-number">16.1.</span> <span class="post-toc-text">是否全局影响很大</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#非全局模式"><span class="post-toc-number">16.2.</span> <span class="post-toc-text">非全局模式</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#全局模式"><span class="post-toc-number">16.3.</span> <span class="post-toc-text">全局模式</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#match与exec异同"><span class="post-toc-number">17.</span> <span class="post-toc-text">match与exec异同</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#在非全局下-二者结果相同"><span class="post-toc-number">17.1.</span> <span class="post-toc-text">在非全局下 二者结果相同</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#在全局下，有差别"><span class="post-toc-number">17.2.</span> <span class="post-toc-text">在全局下，有差别</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#其他"><span class="post-toc-number">18.</span> <span class="post-toc-text">其他</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#s匹配空白而不仅仅空格"><span class="post-toc-number">18.1.</span> <span class="post-toc-text">\s匹配空白而不仅仅空格</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#常见元字符"><span class="post-toc-number">18.2.</span> <span class="post-toc-text">常见元字符</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#split-reg"><span class="post-toc-number">18.3.</span> <span class="post-toc-text">split(reg)</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#多个正则合并使用"><span class="post-toc-number">18.4.</span> <span class="post-toc-text">多个正则合并使用</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#或的使用"><span class="post-toc-number">18.5.</span> <span class="post-toc-text">|或的使用</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#demo-1"><span class="post-toc-number">19.</span> <span class="post-toc-text">demo</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#密码"><span class="post-toc-number">19.1.</span> <span class="post-toc-text">密码</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#参考"><span class="post-toc-number">20.</span> <span class="post-toc-text">参考</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#千分位-与-amp"><span class="post-toc-number">20.1.</span> <span class="post-toc-text">千分位 与 $&amp;</span></a></li></ol></li></ol>
            </nav>
            <div class="toc-bar"><div>
        </aside>
    
</article>

    <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        我们一起来让这个世界有趣一点
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/reward-wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/reward-wechat.jpg" data-alipay="/img/reward-alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>

    

</div>

        <footer class="footer">
    
    <div class="top">
        
            <p>
    <span>Links：</span>
    
    <span class="blogroll-item">
        <a href="https://www.lujingtao.com" target="_blank">HOME</a>
    </span>
    
</p>

        
    </div>
    
    <div class="bottom">
        <p>
            <span>
                Mr.Yellow &copy; 2017 - 2023
            </span>
        		
           	
            
            
            <span>
	            Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/codefine/hexo-theme-mellow" target="_blank">mellow</a>
            </span>
            
            
            

            
                
<span class="site-uv" title="总访客量">
    <i class="icon icon-user"></i>
    <i class="busuanzi-value" id="busuanzi_value_site_uv"></i>
</span>


<span class="site-pv" title="总访问量">
    <i class="icon icon-eye"></i>
    <i class="busuanzi-value" id="busuanzi_value_site_pv"></i>
</span>

            
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://yewills.github.io/2020/05/01/regex/&title=《正则表达式》 — Mr.Yellow.Wills&pic=https://yewills.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://yewills.github.io/2020/05/01/regex/&title=《正则表达式》 — Mr.Yellow.Wills&source=hellow kity" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACJklEQVR42u3aQXLDIAwF0Nz/0ukBUtwvyemM4XnVcWzDY6EKidcrvt4f1+rX5PnPd1ffufnCwMB4LON9eV1P63oS188nzyRzw8DAOIeRhMKvDB8v0x9zxsDAwAjStTzgJguEgYGBcVfAzb9TDdAYGBgYvU1sUibLE8FqAe62vTgGBsYDGXnV/f///kp/AwMD41GMd/Ga9A3n4XU5CgYGxtaMXimt2shMAHniuBwFAwNjU8akDVktnCXTvT52tryDgYFxDKM3ZLW1kBw7qy4xBgbG3oz8hSQsVt+9XsTy4mJgYGzNSAJiNVmsTqi3xcXAwDiHUU3Reg3Ou1LA5UwwMDA2ZTTLW8UwnQB67YRlYwADA2M7Rr7hrLYbq+G7twQYGBgnMJLErlrWz0PznISBgbE344bXBslirxU6qtJhYGA8kJG0AXoFtWpxLSmrNc+MYGBgPJzROxKRDFxNBKv/HzAwMM5hJIEvGSw/2pVvgPMDHxgYGHsz8vA63+hWv1ZNHDEwME5j9Daxefiej/XLHQwMjAMYebGsF+WqwToP0BgYGCczegcmkjZDub+apKEYGBibMnoNgHuPWfSCeHkXjoGB8VjGJMzlvHm5rZpuYmBg7MeYHKSYbFnLTcpevMfAwNiIMQ98kxhfDdwYGBgYvewyv9M7wBEdtsDAwMAoJpTzTWy+HBgYGCcw7mpMzqnNrTIGBsbWjOrWMSmW5WF6MiIGBsYBjB9JvGqYCL0CegAAAABJRU5ErkJggg==" alt="微信分享二维码">
</div>


    
    <!-- main-js -->
<script type="text/javascript" src="/js/plugins/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="/js/plugins/fastclick.js?v=1.3.9"></script>
<script type="text/javascript" src="/js/plugins/ios-orientationchange-fix.js?v=1.3.9"></script>
<script type="text/javascript" src="/js/plugins/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="/js/plugins/MathJax.js"></script>
<script type="text/javascript" src="/js/plugins/TeX-AMS-MML_HTMLorMML.js"></script>
<script type="text/javascript" src="/js/plugins/MathMenu.js"></script>
<script type="text/javascript" src="/js/plugins/MathZoom.js"></script>

<script type="text/javascript" src="/js/plugins/waves.min.js"></script>

<script type="text/javascript" src="/js/method.js?v=1.3.9"></script>
<script type="text/javascript" src="/js/blog.js?v=1.3.9"></script>

<!-- third-party -->






<script type="text/javascript" src="/js/plugins/local_search.js?v=1.3.9"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) {
		search_path = "search.xml";
	}
	var path = "/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script>



<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



    
    





    <!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src=""></script>







    
</body>
</html>
