<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    
    
    <title>typescript 笔记 | Mr.Yellow.Wills</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="typescript">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.2/dist/jquery.fancybox.min.css">
    <link rel="stylesheet" href="/css/style.css?v=1.3.9">
    
    <script type="text/javascript">
        // Data Center
        var DC = {
            reward:	true,
            lv: JSON.parse('{"enable":false,"app_id":null,"app_key":null,"icon":true}'),
            v: JSON.parse('{"enable":false,"appid":null,"appkey":null,"notify":true,"verify":true,"placeholder":"give me some sugers plz...","avatar":"wavatar"}'),
            g: JSON.parse('{"enable":false,"lazy":true,"owner":"codefine","repo":"gitment","oauth":{"client_id":null,"client_secret":null},"perPage":10}'),
            d: JSON.parse('{"app_id":null}')
        };
    </script>
    <script type="text/javascript">
        window.lazyScripts=[];
    </script>
    
</head>


<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      
      <img src="/img/brand.jpg" class="brand-bg">
      
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Mr.Yellow</h5>
          <a href="mailto:601661706@qq.com" title="601661706@qq.com" class="mail">
            
              <span>6</span>
            
              <span>0</span>
            
              <span>1</span>
            
              <span>6</span>
            
              <span>6</span>
            
              <span>1</span>
            
              <span>7</span>
            
              <span>0</span>
            
              <span>6</span>
            
              <span>@</span>
            
              <span>q</span>
            
              <span>q</span>
            
              <span>.</span>
            
              <span>c</span>
            
              <span>o</span>
            
              <span>m</span>
            
          </a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://github.com/YeWills/YeWills.github.io/tree/blog_code" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                HOME
              </a>
            </li>
        
            <li class="">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                CATEGORIES
              </a>
            </li>
        
            <li class="">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                TAGS
              </a>
            </li>
        
            <li class="">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                ARCHIVES
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>typescript 笔记</span>
            
        </div>
        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">
    <img src="/img/banner.jpg" class="header-bg">
    <div class="container fade-scale">
        <h1 class="title">typescript 笔记</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-05-01T00:00:00.000Z" itemprop="datePublished" class="page-time">
  2020-05-01
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/typescript/">typescript</a></li></ul>

            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>


<div class="container body-wrap">
    <article id="post-ts"
  class="post-article article-type-post" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">typescript 笔记</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-05-01 00:00:00" datetime="2020-05-01T00:00:00.000Z"  itemprop="datePublished">2020-05-01</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/typescript/">typescript</a></li></ul>



            

            


            
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            
            <h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>本文是主要参考 <a href="https://ts.xcatliu.com/" target="_blank" rel="noopener">TypeScript 入门教程</a>，记得很随意，断断续续，不完整，可能后期此篇笔记会删除，聊当暂时性自用。</p>
<h2 id="把玩ts的正确姿势"><a href="#把玩ts的正确姿势" class="headerlink" title="把玩ts的正确姿势"></a>把玩ts的正确姿势</h2><p>任意目录下，使用tsc命令来，很纯粹，剔除其他因素导致的理解偏差，不需要配合webpack等等，更多参考：《tsc命令的使用》</p>
<h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><h3 id="可以描述的类型"><a href="#可以描述的类型" class="headerlink" title="可以描述的类型"></a>可以描述的类型</h3><h4 id="定义对象"><a href="#定义对象" class="headerlink" title="定义对象"></a>定义对象</h4><h5 id="有很多个属性时，定义一个任意属性"><a href="#有很多个属性时，定义一个任意属性" class="headerlink" title="有很多个属性时，定义一个任意属性"></a>有很多个属性时，定义一个任意属性</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">interface Person &#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age?: number;</span><br><span class="line">    [propName: string]: any;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> test:Person=&#123;</span><br><span class="line">    name:<span class="string">'qianqian'</span>,</span><br><span class="line">    age:<span class="number">18</span>,</span><br><span class="line">    intrest:<span class="string">'dance'</span>,</span><br><span class="line">    beatiful:<span class="string">'yes'</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="定义class类（implements）"><a href="#定义class类（implements）" class="headerlink" title="定义class类（implements）"></a>定义class类（implements）</h4><p>用于给类定义属性的类型。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">interface Alarm &#123;</span><br><span class="line">    alert(): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> <span class="title">implements</span> <span class="title">Alarm</span> </span>&#123;</span><br><span class="line">    alert() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Car alert'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="定义函数（范型接口、普通接口）"><a href="#定义函数（范型接口、普通接口）" class="headerlink" title="定义函数（范型接口、普通接口）"></a>定义函数（范型接口、普通接口）</h4><p>参考《范型》</p>
<h4 id="约束范型类型"><a href="#约束范型类型" class="headerlink" title="约束范型类型"></a>约束范型类型</h4><p>参考《范型》</p>
<h3 id="接口定义方式"><a href="#接口定义方式" class="headerlink" title="接口定义方式"></a>接口定义方式</h3><h4 id="常规接口定义"><a href="#常规接口定义" class="headerlink" title="常规接口定义"></a>常规接口定义</h4><p>这里就不写了，比较简单。</p>
<h4 id="用类修饰接口（接口可以继承类）"><a href="#用类修饰接口（接口可以继承类）" class="headerlink" title="用类修饰接口（接口可以继承类）"></a>用类修饰接口（接口可以继承类）</h4><p>常见的面向对象语言中，接口是不能继承类的，但是在 TypeScript 中却是可以的：<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    x: number;</span><br><span class="line">    y: number;</span><br><span class="line">    <span class="keyword">constructor</span>(x: number, y: number) &#123;</span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Point看成实例就很好理解了</span></span><br><span class="line">interface Point3d extends Point &#123;</span><br><span class="line">    z: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> point3d: Point3d = &#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>, <span class="attr">z</span>: <span class="number">3</span>&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="用接口定义函数的形状"><a href="#用接口定义函数的形状" class="headerlink" title="用接口定义函数的形状"></a>用接口定义函数的形状</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">interface SearchFunc &#123;</span><br><span class="line">    (source: string, <span class="attr">subString</span>: string): boolean;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mySearch: SearchFunc;</span><br><span class="line">mySearch = <span class="function"><span class="keyword">function</span>(<span class="params">source: string, subString: string</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> source.search(subString) !== <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>与此相对应：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> mySum: <span class="function">(<span class="params">x: number, y: number</span>) =&gt;</span> number = <span class="function"><span class="keyword">function</span> (<span class="params">x: number, y: number</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="class类作为类型"><a href="#class类作为类型" class="headerlink" title="class类作为类型"></a>class类作为类型</h2><p><a href="https://ts.xcatliu.com/basics/type-assertion.html" target="_blank" rel="noopener">参考 - 将一个父类断言为更加具体的子类</a></p>
<h3 id="直接用类作为类型"><a href="#直接用类作为类型" class="headerlink" title="直接用类作为类型"></a>直接用类作为类型</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ApiError</span> <span class="keyword">extends</span> <span class="title">Error</span> </span>&#123;</span><br><span class="line">    code: number = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpError</span> <span class="keyword">extends</span> <span class="title">Error</span> </span>&#123;</span><br><span class="line">    statusCode: number = <span class="number">200</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isApiError</span>(<span class="params">error: Error</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (error <span class="keyword">instanceof</span> ApiError) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="范型"><a href="#范型" class="headerlink" title="范型"></a>范型</h2><p>参考 <a href="https://www.imooc.com/video/21306" target="_blank" rel="noopener">慕课视频</a></p>
<h3 id="范型类型"><a href="#范型类型" class="headerlink" title="范型类型"></a>范型类型</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &lt;T&gt;(arg1:T,arg2:T)=&gt;T 这个表达式称之为 数据类型／范型类型／范型函数</span></span><br></pre></td></tr></table></figure>
<h4 id="范型类型是干嘛的"><a href="#范型类型是干嘛的" class="headerlink" title="范型类型是干嘛的"></a>范型类型是干嘛的</h4><p>我们知道声明变量时，我们需要定义类型，普通的类型如 number string等；<br>还有高级点的类型，如范型类型；<br>因此范型类型与 number一样，都是用于定义变量的类型。</p>
<p>以下两种方式都可以定义一个范型类型<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &lt;T&gt;(arg1:T,arg2:T)=&gt;T 这个表达式称之为 数据类型／范型类型／范型函数</span></span><br><span class="line"><span class="comment">// let addFunc : &lt;T&gt;(arg1:T,arg2:T)=&gt;T; //不使用花括号</span></span><br><span class="line"><span class="comment">// let addFunc : &#123;&lt;T&gt;(arg1:T,arg2:T):T&#125;; //使用花括号，将=&gt;改为冒号:</span></span><br></pre></td></tr></table></figure></p>
<h4 id="不使用花括号"><a href="#不使用花括号" class="headerlink" title="不使用花括号"></a>不使用花括号</h4><p>如上</p>
<h4 id="使用花括号"><a href="#使用花括号" class="headerlink" title="使用花括号"></a>使用花括号</h4><p>如上，它的特征是，将=&gt;改为冒号:。</p>
<h4 id="范型类型与number等一样"><a href="#范型类型与number等一样" class="headerlink" title="范型类型与number等一样"></a>范型类型与number等一样</h4><p>范型类型与number等一样，同属于变量类型，参考上面讲解，这里单独提出来是让对范型类型有一个更加直观认识；</p>
<h3 id="范型接口"><a href="#范型接口" class="headerlink" title="范型接口"></a>范型接口</h3><h4 id="为什么要有范型接口"><a href="#为什么要有范型接口" class="headerlink" title="为什么要有范型接口"></a>为什么要有范型接口</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> addFunc : &#123;&lt;T&gt;(arg1:T,arg2:T):T&#125;;</span><br></pre></td></tr></table></figure>
<p>如上，给变量定义类型，太不优雅了，是否可以将范型类型赋给一个变量呢:<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ftype = &#123;&lt;T&gt;(arg1:T,arg2:T):T&#125; <span class="comment">//语法报错</span></span><br><span class="line"><span class="comment">//const ftype = &lt;T&gt;(arg1:T,arg2:T)=&gt;T //语法报错</span></span><br><span class="line"><span class="keyword">let</span> addFunc : ftype;</span><br></pre></td></tr></table></figure></p>
<p>噢，终于知道无法将范型类型赋值给一个变量，因为范型类型只能通过接口来定义，<br>这种定义范型类型的接口，我们称之为 范型接口或含范型的普通接口。</p>
<p>我们将上面的范型类型赋值给接口GenAdder：<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> GenAdder &#123;&lt;T&gt;(arg1:T,arg2:T):T&#125;;</span><br><span class="line"><span class="keyword">let</span> addFunc : GenAdder;</span><br></pre></td></tr></table></figure></p>
<h4 id="含范型的普通接口"><a href="#含范型的普通接口" class="headerlink" title="含范型的普通接口"></a>含范型的普通接口</h4><p>这是普通接口，虽然接口内有范型T，但，接口名后未紧随<code>&lt;T&gt;</code>;<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> GenAdder &#123;&lt;T&gt;(arg1:T,arg2:T):T&#125;;</span><br></pre></td></tr></table></figure></p>
<h4 id="转化为范型接口"><a href="#转化为范型接口" class="headerlink" title="转化为范型接口"></a>转化为范型接口</h4><p>我们也可以将上面普通接口的T从花括号后，提取出来，放在GenAdder后，GenAdder即转化为范型接口；<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> GenAdder&lt;T&gt; &#123;(arg1:T,arg2:T):T&#125;;</span><br></pre></td></tr></table></figure></p>
<h4 id="含范型的普通接口的使用"><a href="#含范型的普通接口的使用" class="headerlink" title="含范型的普通接口的使用"></a>含范型的普通接口的使用</h4><p>二者在ts中应用的区别：<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 普通接口</span></span><br><span class="line"><span class="keyword">interface</span> GenAdder &#123;&lt;T&gt;(arg1:T,arg2:T):T&#125;;</span><br><span class="line"><span class="keyword">let</span> addFunc : GenAdder;</span><br><span class="line">addFunc = <span class="function"><span class="keyword">function</span> (<span class="params">arg1, arg2</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arg1+arg2;<span class="comment">//ts报错，当参数为number或string时，成立，当参数为undefined、null时候不成立；</span></span><br><span class="line">&#125;;</span><br><span class="line">addFunc(<span class="string">''</span>,<span class="string">''</span>)</span><br></pre></td></tr></table></figure></p>
<h4 id="范型接口的使用"><a href="#范型接口的使用" class="headerlink" title="范型接口的使用"></a>范型接口的使用</h4><p>为了解决上面的ts报错，必须将普通接口转化为范型接口，因为范型接口在声明类型时，会预设上类型：<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> GenAdder&lt;T&gt; &#123;(arg1:T,arg2:T):T&#125;;</span><br><span class="line"><span class="comment">//预设上类型为number</span></span><br><span class="line"><span class="keyword">let</span> addFunc : GenAdder&lt;<span class="built_in">number</span>&gt;;</span><br><span class="line">addFunc = <span class="function"><span class="keyword">function</span> (<span class="params">arg1, arg2</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arg1+arg2;</span><br><span class="line">&#125;;</span><br><span class="line">addFunc(<span class="number">1</span>,<span class="number">1</span>)</span><br></pre></td></tr></table></figure></p>
<h4 id="范型接口的使用说明"><a href="#范型接口的使用说明" class="headerlink" title="范型接口的使用说明"></a>范型接口的使用说明</h4><p><strong>范型接口使用时，必须在接口后定义好<code>&lt;类型&gt;</code></strong>，<br>我们也可从接口定义的外观来理解：<br>定义接口时，若接口后紧挨着一个<code>&lt;T&gt;</code>，则使用此接口时，必须是 <code>接口名&lt;T&gt;</code>；<br>若接口后是干干净净的，没有任何其他东西，则使用此接口时，应该为单纯的 <code>接口名</code><br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">interface</span> GenAdder&lt;T&gt; &#123;(arg1:T,arg2:T):T&#125;;</span><br><span class="line"><span class="comment">//使用范型接口时，需定义好T类型</span></span><br><span class="line"> <span class="keyword">let</span> addFunc : GenAdder&lt;<span class="built_in">number</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> nomalGenAdder&#123; name:<span class="built_in">string</span>;&#125;;</span><br><span class="line"><span class="comment">//使用普通接口时，不需定义好T类型，因为没有T</span></span><br><span class="line"> <span class="keyword">let</span> addObj : nomalGenAdder;</span><br></pre></td></tr></table></figure></p>
<h3 id="范型类"><a href="#范型类" class="headerlink" title="范型类"></a>范型类</h3><h4 id="包含范型类型的普通类"><a href="#包含范型类型的普通类" class="headerlink" title="包含范型类型的普通类"></a>包含范型类型的普通类</h4><p>如下Adder是个普通类，因为它的属性add使用了范型类，它还是一个普通类，只是内部包含了范型类型定义。<br>这样的写法在某些情况下写起来比较费劲，也有些情况需要避免一些报错，等等，于是就想将普通类改造成范型类。<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Adder&#123;</span><br><span class="line">    add:&lt;T&gt;<span class="function">(<span class="params">arg1:T, arg2:T</span>)=&gt;</span>T;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> adder = <span class="keyword">new</span> Adder();</span><br><span class="line">adder.add = <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">arg1, arg2</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arg1+arg2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//原则上需要定义&lt;number&gt;</span></span><br><span class="line">adder.add&lt;<span class="built_in">number</span>&gt;(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">adder.add&lt;<span class="built_in">string</span>&gt;(<span class="string">''</span>,<span class="string">''</span>)</span><br><span class="line"><span class="comment">// 不定义&lt;number&gt;也可以，ts默认给定义</span></span><br><span class="line">adder.add(<span class="string">''</span>,<span class="string">''</span>)</span><br></pre></td></tr></table></figure></p>
<h4 id="范型类-1"><a href="#范型类-1" class="headerlink" title="范型类"></a>范型类</h4><p>改造上面的代码，经过改造后如下，Adder就是一个范型类了。<br>将普通类改成范型类的好处是，写起来可能会优雅点，然后可以处理一些普通类会遇到的ts报错。<br>另外一方面，从下面我们也知道，一旦定义成范型类，那么调用类时，就需要马上指定好类型。<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将范型提取出来挨着Adder</span></span><br><span class="line"><span class="keyword">class</span> Adder&lt;T&gt;&#123;</span><br><span class="line">    add:<span class="function">(<span class="params">arg1:T, arg2:T</span>)=&gt;</span>T;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用的时候需要&lt;number&gt;，一旦定义成范型类，那么调用类时，就需要马上指定好类型。</span></span><br><span class="line"><span class="keyword">const</span> adder = <span class="keyword">new</span> Adder&lt;<span class="built_in">number</span>&gt;();</span><br><span class="line">adder.add = <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">arg1, arg2</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arg1+arg2;</span><br><span class="line">&#125;</span><br><span class="line">adder.add(<span class="number">1</span>,<span class="number">3</span>)<span class="comment">//正确</span></span><br><span class="line">adder.add(<span class="number">1</span>,<span class="string">''</span>)<span class="comment">//报错</span></span><br></pre></td></tr></table></figure></p>
<h4 id="范型类调用方式–需指定好类型"><a href="#范型类调用方式–需指定好类型" class="headerlink" title="范型类调用方式–需指定好类型"></a>范型类调用方式–需指定好类型</h4><p>如上面的普通类，调用时，直接调用，改成范型类时，就需要指定好类型了：<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> adder = <span class="keyword">new</span> Adder&lt;<span class="built_in">number</span>&gt;();</span><br></pre></td></tr></table></figure></p>
<h4 id="扩展-范型函数"><a href="#扩展-范型函数" class="headerlink" title="扩展-范型函数"></a>扩展-范型函数</h4><p>既然有普通类和范型类，那么就有普通函数和范型函数，用法可以类推范型类。</p>
<h3 id="范型约束"><a href="#范型约束" class="headerlink" title="范型约束"></a>范型约束</h3><h4 id="为什么要有范型约束"><a href="#为什么要有范型约束" class="headerlink" title="为什么要有范型约束"></a>为什么要有范型约束</h4><p><a href="https://ts.xcatliu.com/advanced/generics.html#%E6%B3%9B%E5%9E%8B%E7%BA%A6%E6%9D%9F" target="_blank" rel="noopener">参考ts入门教程-范型约束</a><br>在函数内部使用泛型变量的时候，由于事先不知道它是哪种类型，所以不能随意的操作它的属性或方法：<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loggingIdentity</span>&lt;<span class="title">T</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arg.length);</span><br><span class="line">    <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// index.ts(2,19): error TS2339: Property 'length' does not exist on type 'T'.</span></span><br></pre></td></tr></table></figure></p>
<h4 id="范型的特性导致了必然需要范型约束"><a href="#范型的特性导致了必然需要范型约束" class="headerlink" title="范型的特性导致了必然需要范型约束"></a>范型的特性导致了必然需要范型约束</h4><p>参考上面。</p>
<h4 id="使用普通接口做范型约束"><a href="#使用普通接口做范型约束" class="headerlink" title="使用普通接口做范型约束"></a>使用普通接口做范型约束</h4><p>注意的是，范型约束使用<strong>普通接口</strong>而非什么范型接口来约束范型。<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Lengthwise &#123;</span><br><span class="line">    length: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loggingIdentity</span>&lt;<span class="title">T</span> <span class="title">extends</span> <span class="title">Lengthwise</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arg.length);</span><br><span class="line">    <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="extends"><a href="#extends" class="headerlink" title="extends"></a>extends</h4><p>用于约束范型的关键字，参考上面。</p>
<h4 id="进阶-keyof"><a href="#进阶-keyof" class="headerlink" title="进阶 - keyof"></a>进阶 - keyof</h4><p>使用keyof进行范型约束，<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getProp</span>&lt;<span class="title">T</span>, <span class="title">K</span>&gt;(<span class="params">obj:T,key:K</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> obj[key]<span class="comment">//ts error,obj内不一定有key</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>此时可通过 keyof来约束 K，改造如下：<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getProp</span>&lt;<span class="title">T</span>, <span class="title">K</span> <span class="title">extends</span> <span class="title">keyof</span> <span class="title">T</span>&gt;(<span class="params">obj:T,key:K</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> obj[key]</span><br><span class="line">&#125;</span><br><span class="line">getProp(&#123;name:<span class="number">1</span>&#125;, <span class="string">'name'</span>)</span><br></pre></td></tr></table></figure></p>
<p>keyof主要表示 k是T内的属性。<br><a href="https://www.imooc.com/video/21306/0" target="_blank" rel="noopener">参考</a></p>
<h2 id="tsconfig-json"><a href="#tsconfig-json" class="headerlink" title="tsconfig.json"></a>tsconfig.json</h2><h3 id="strictNullChecks"><a href="#strictNullChecks" class="headerlink" title="strictNullChecks"></a>strictNullChecks</h3><p>严格类型，让代码区分null undefined的空与非空类型；不再有包含；</p>
<h3 id="开启tsx的支持"><a href="#开启tsx的支持" class="headerlink" title="开启tsx的支持"></a>开启tsx的支持</h3><p>定义tsconfig.json的 jsx为preserve；</p>
<h3 id="esModuleInterop-开启export-default"><a href="#esModuleInterop-开启export-default" class="headerlink" title="esModuleInterop 开启export default"></a>esModuleInterop 开启export default</h3><p>当ts报错import或export时；<br>或者ts混合使用commonjs与es6模块报错时；<br>可能是没有export default有关，此时可以设置不同的esModuleInterop来解决；</p>
<h3 id="noImplicitAny-定义对象不能有any类型属性"><a href="#noImplicitAny-定义对象不能有any类型属性" class="headerlink" title="noImplicitAny 定义对象不能有any类型属性"></a>noImplicitAny 定义对象不能有any类型属性</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> student = &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> key = <span class="string">'name'</span>;</span><br><span class="line">student[key] = <span class="string">'qianqian'</span><span class="comment">//ts error</span></span><br></pre></td></tr></table></figure>
<h2 id="tsc命令的使用"><a href="#tsc命令的使用" class="headerlink" title="tsc命令的使用"></a>tsc命令的使用</h2><h3 id="安装使用"><a href="#安装使用" class="headerlink" title="安装使用"></a>安装使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install typescript -g</span><br><span class="line">tsc -v</span><br></pre></td></tr></table></figure>
<h3 id="生成tsconfig-json"><a href="#生成tsconfig-json" class="headerlink" title="生成tsconfig.json"></a>生成tsconfig.json</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc --init</span><br></pre></td></tr></table></figure>
<h3 id="编译ts文件"><a href="#编译ts文件" class="headerlink" title="编译ts文件"></a>编译ts文件</h3><p>在根目录下，新建一个test.ts，运行如下命令，就会在根目录下生成编译后生成的文件 test.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc test.ts</span><br></pre></td></tr></table></figure></p>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="d-ts文件"><a href="#d-ts文件" class="headerlink" title="d.ts文件"></a>d.ts文件</h3><p>详见《ts中使用commonjs规范与es6规范的不同》</p>
<h3 id="as的使用-类型断言"><a href="#as的使用-类型断言" class="headerlink" title="as的使用 - 类型断言"></a>as的使用 - 类型断言</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCacheData</span>(<span class="params">key: string</span>): <span class="title">any</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="built_in">window</span> <span class="keyword">as</span> any).cache[key];</span><br><span class="line">&#125;</span><br><span class="line">interface Cat &#123;</span><br><span class="line">    name: string;</span><br><span class="line">    run(): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> tom = getCacheData(<span class="string">'tom'</span>) <span class="keyword">as</span> Cat;</span><br><span class="line">tom.run();</span><br></pre></td></tr></table></figure>
<h3 id="type-别名"><a href="#type-别名" class="headerlink" title="type 别名"></a>type 别名</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">type Name = string;</span><br><span class="line">type NameResolver = <span class="function"><span class="params">()</span> =&gt;</span> string;</span><br><span class="line">type NameOrResolver = Name | NameResolver;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params">n: NameOrResolver</span>): <span class="title">Name</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> n === <span class="string">'string'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> n();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">type EventNames = <span class="string">'click'</span> | <span class="string">'scroll'</span> | <span class="string">'mousemove'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleEvent</span>(<span class="params">ele: Element, event: EventNames</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">handleEvent(<span class="built_in">document</span>.getElementById(<span class="string">'hello'</span>), <span class="string">'scroll'</span>);  <span class="comment">// 没问题</span></span><br><span class="line">handleEvent(<span class="built_in">document</span>.getElementById(<span class="string">'world'</span>), <span class="string">'dbclick'</span>); <span class="comment">// 报错，event 不能为 'dbclick'</span></span><br></pre></td></tr></table></figure>
<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><h3 id="ts中使用commonjs规范与es6规范的不同"><a href="#ts中使用commonjs规范与es6规范的不同" class="headerlink" title="ts中使用commonjs规范与es6规范的不同"></a>ts中使用commonjs规范与es6规范的不同</h3><p><a href="https://www.imooc.com/video/21605/0" target="_blank" rel="noopener">参考慕课网</a><br>如下图，使用commonjs时，可以正常使用css module；<br>但使用es6的import来css module时，必须定义d.ts文件；<br>还有一个情况，就是下图中第一行 全局css的写法，import单纯引入一个文件时，也是不报错的；</p>
<p>这是因为，当ts import 一个css文件时，这样是没问题的；<br>但使用es6语法，需要ts 将一个css文件当成对象，将此css文件抽象成一个styles对象时；<br>ts是不认识的，此时，就需要告诉ts，这个css文件暴露出来的是一个styles对象；如何告诉呢，就是通过d.ts文件；<br>另外一方面，如果ts中使用commonjs的语法来获取styles时，则不需要定义d.ts文件，因为commonjs规范时webpack默认的规范；</p>
<p>css modlue 折射了 ts 通过es6 将一个文件当成一个对象引入时，需要定义dts文件；为此，其他的比如jquery，lodash都需要做声明文件d.ts.<br><figure class="image-box">
                <a rel=typescript 笔记 href="/image/ts/cssmodule.jpg" title="undefined" data-fancybox="images"><img src="/image/ts/cssmodule.jpg" alt title class></a>
                <p></p>
            </figure><br><figure class="image-box">
                <a rel=typescript 笔记 href="/image/ts/css.jpg" title="undefined" data-fancybox="images"><img src="/image/ts/css.jpg" alt title class></a>
                <p></p>
            </figure><br><figure class="image-box">
                <a rel=typescript 笔记 href="/image/ts/dts.jpg" title="undefined" data-fancybox="images"><img src="/image/ts/dts.jpg" alt title class></a>
                <p></p>
            </figure></p>
<h3 id="ts中引入css-modlue异常的问题"><a href="#ts中引入css-modlue异常的问题" class="headerlink" title="ts中引入css modlue异常的问题"></a>ts中引入css modlue异常的问题</h3><p>详见《ts中使用commonjs规范与es6规范的不同》</p>
<h3 id="null-undefined-是所有类型子集"><a href="#null-undefined-是所有类型子集" class="headerlink" title="null undefined 是所有类型子集"></a>null undefined 是所有类型子集</h3><p>一个变量定义为number后，再定义成string，会报错，但定义为undefined或null不报错；<br>因为undefined和null都是空类型，其他非空类型都包含此空类型；<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> height:<span class="built_in">number</span></span><br><span class="line">height = <span class="number">100</span>;</span><br><span class="line">height = <span class="string">'str'</span>;<span class="comment">//error</span></span><br><span class="line">height = <span class="literal">undefined</span>;<span class="comment">//不报错</span></span><br><span class="line">height = <span class="literal">null</span>;<span class="comment">//不报错</span></span><br></pre></td></tr></table></figure></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.imooc.com/learn/1243" target="_blank" rel="noopener">慕课网 - TS封装播放器组件</a><br><a href="https://www.imooc.com/learn/1234" target="_blank" rel="noopener">当React遇上TypeScript开发Antd组件</a><br><a href="https://ts.xcatliu.com/" target="_blank" rel="noopener">TypeScript 入门教程</a></p>

        </div>
        
<blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2021-07-22T15:47:13.570Z" itemprop="dateUpdated">2021-07-22 15:47:13</time>
</span><br>


        
        博客内容均为原创，转载注明出处，原文地址：<a href="/2020/05/01/ts/" target="_blank" rel="external">https://yewills.github.io/2020/05/01/ts/</a>
        
    </div>
    <footer>
        <a href="https://yewills.github.io">
            <img src="/img/avatar.jpg" alt="Mr.Yellow">
            Mr.Yellow
        </a>
    </footer>
</blockquote>

        
            <div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>

            
        
        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/typescript/">typescript</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://yewills.github.io/2020/05/01/ts/&title=《typescript 笔记》 — Mr.Yellow.Wills&pic=https://yewills.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://yewills.github.io/2020/05/01/ts/&title=《typescript 笔记》 — Mr.Yellow.Wills&source=hellow kity" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
            


        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="prev">
      <a href="/2020/05/01/tool/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">前端以外笔记</h4>
      </a>
    </div>
  

  
    <div class="next">
      <a href="/2020/01/18/js_demo/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">前端demo讲解</h4>
      </a>
    </div>
  
</nav>


    
    
        <aside class="post-widget">
            <nav class="post-toc-wrap" id="post-toc">
                <strong>目录</strong>
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#写在前面"><span class="post-toc-number">1.</span> <span class="post-toc-text">写在前面</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#把玩ts的正确姿势"><span class="post-toc-number">2.</span> <span class="post-toc-text">把玩ts的正确姿势</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#接口"><span class="post-toc-number">3.</span> <span class="post-toc-text">接口</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#可以描述的类型"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">可以描述的类型</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#定义对象"><span class="post-toc-number">3.1.1.</span> <span class="post-toc-text">定义对象</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#定义class类（implements）"><span class="post-toc-number">3.1.2.</span> <span class="post-toc-text">定义class类（implements）</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#定义函数（范型接口、普通接口）"><span class="post-toc-number">3.1.3.</span> <span class="post-toc-text">定义函数（范型接口、普通接口）</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#约束范型类型"><span class="post-toc-number">3.1.4.</span> <span class="post-toc-text">约束范型类型</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#接口定义方式"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">接口定义方式</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#常规接口定义"><span class="post-toc-number">3.2.1.</span> <span class="post-toc-text">常规接口定义</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#用类修饰接口（接口可以继承类）"><span class="post-toc-number">3.2.2.</span> <span class="post-toc-text">用类修饰接口（接口可以继承类）</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#函数"><span class="post-toc-number">4.</span> <span class="post-toc-text">函数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#用接口定义函数的形状"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">用接口定义函数的形状</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#class类作为类型"><span class="post-toc-number">5.</span> <span class="post-toc-text">class类作为类型</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#直接用类作为类型"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">直接用类作为类型</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#范型"><span class="post-toc-number">6.</span> <span class="post-toc-text">范型</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#范型类型"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">范型类型</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#范型类型是干嘛的"><span class="post-toc-number">6.1.1.</span> <span class="post-toc-text">范型类型是干嘛的</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#不使用花括号"><span class="post-toc-number">6.1.2.</span> <span class="post-toc-text">不使用花括号</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#使用花括号"><span class="post-toc-number">6.1.3.</span> <span class="post-toc-text">使用花括号</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#范型类型与number等一样"><span class="post-toc-number">6.1.4.</span> <span class="post-toc-text">范型类型与number等一样</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#范型接口"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">范型接口</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#为什么要有范型接口"><span class="post-toc-number">6.2.1.</span> <span class="post-toc-text">为什么要有范型接口</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#含范型的普通接口"><span class="post-toc-number">6.2.2.</span> <span class="post-toc-text">含范型的普通接口</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#转化为范型接口"><span class="post-toc-number">6.2.3.</span> <span class="post-toc-text">转化为范型接口</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#含范型的普通接口的使用"><span class="post-toc-number">6.2.4.</span> <span class="post-toc-text">含范型的普通接口的使用</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#范型接口的使用"><span class="post-toc-number">6.2.5.</span> <span class="post-toc-text">范型接口的使用</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#范型接口的使用说明"><span class="post-toc-number">6.2.6.</span> <span class="post-toc-text">范型接口的使用说明</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#范型类"><span class="post-toc-number">6.3.</span> <span class="post-toc-text">范型类</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#包含范型类型的普通类"><span class="post-toc-number">6.3.1.</span> <span class="post-toc-text">包含范型类型的普通类</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#范型类-1"><span class="post-toc-number">6.3.2.</span> <span class="post-toc-text">范型类</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#范型类调用方式–需指定好类型"><span class="post-toc-number">6.3.3.</span> <span class="post-toc-text">范型类调用方式–需指定好类型</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#扩展-范型函数"><span class="post-toc-number">6.3.4.</span> <span class="post-toc-text">扩展-范型函数</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#范型约束"><span class="post-toc-number">6.4.</span> <span class="post-toc-text">范型约束</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#为什么要有范型约束"><span class="post-toc-number">6.4.1.</span> <span class="post-toc-text">为什么要有范型约束</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#范型的特性导致了必然需要范型约束"><span class="post-toc-number">6.4.2.</span> <span class="post-toc-text">范型的特性导致了必然需要范型约束</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#使用普通接口做范型约束"><span class="post-toc-number">6.4.3.</span> <span class="post-toc-text">使用普通接口做范型约束</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#extends"><span class="post-toc-number">6.4.4.</span> <span class="post-toc-text">extends</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#进阶-keyof"><span class="post-toc-number">6.4.5.</span> <span class="post-toc-text">进阶 - keyof</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#tsconfig-json"><span class="post-toc-number">7.</span> <span class="post-toc-text">tsconfig.json</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#strictNullChecks"><span class="post-toc-number">7.1.</span> <span class="post-toc-text">strictNullChecks</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#开启tsx的支持"><span class="post-toc-number">7.2.</span> <span class="post-toc-text">开启tsx的支持</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#esModuleInterop-开启export-default"><span class="post-toc-number">7.3.</span> <span class="post-toc-text">esModuleInterop 开启export default</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#noImplicitAny-定义对象不能有any类型属性"><span class="post-toc-number">7.4.</span> <span class="post-toc-text">noImplicitAny 定义对象不能有any类型属性</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#tsc命令的使用"><span class="post-toc-number">8.</span> <span class="post-toc-text">tsc命令的使用</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#安装使用"><span class="post-toc-number">8.1.</span> <span class="post-toc-text">安装使用</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#生成tsconfig-json"><span class="post-toc-number">8.2.</span> <span class="post-toc-text">生成tsconfig.json</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#编译ts文件"><span class="post-toc-number">8.3.</span> <span class="post-toc-text">编译ts文件</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#其他"><span class="post-toc-number">9.</span> <span class="post-toc-text">其他</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#d-ts文件"><span class="post-toc-number">9.1.</span> <span class="post-toc-text">d.ts文件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#as的使用-类型断言"><span class="post-toc-number">9.2.</span> <span class="post-toc-text">as的使用 - 类型断言</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#type-别名"><span class="post-toc-number">9.3.</span> <span class="post-toc-text">type 别名</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#FAQ"><span class="post-toc-number">10.</span> <span class="post-toc-text">FAQ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ts中使用commonjs规范与es6规范的不同"><span class="post-toc-number">10.1.</span> <span class="post-toc-text">ts中使用commonjs规范与es6规范的不同</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ts中引入css-modlue异常的问题"><span class="post-toc-number">10.2.</span> <span class="post-toc-text">ts中引入css modlue异常的问题</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#null-undefined-是所有类型子集"><span class="post-toc-number">10.3.</span> <span class="post-toc-text">null undefined 是所有类型子集</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#参考"><span class="post-toc-number">11.</span> <span class="post-toc-text">参考</span></a></li></ol>
            </nav>
            <div class="toc-bar"><div>
        </aside>
    
</article>

    <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        我们一起来让这个世界有趣一点
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/reward-wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/reward-wechat.jpg" data-alipay="/img/reward-alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>

    

</div>

        <footer class="footer">
    
    <div class="top">
        
            <p>
    <span>Links：</span>
    
    <span class="blogroll-item">
        <a href="https://www.lujingtao.com" target="_blank">HOME</a>
    </span>
    
</p>

        
    </div>
    
    <div class="bottom">
        <p>
            <span>
                Mr.Yellow &copy; 2017 - 2021
            </span>
        		
           	
            
            
            <span>
	            Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/codefine/hexo-theme-mellow" target="_blank">mellow</a>
            </span>
            
            
            

            
                
<span class="site-uv" title="总访客量">
    <i class="icon icon-user"></i>
    <i class="busuanzi-value" id="busuanzi_value_site_uv"></i>
</span>


<span class="site-pv" title="总访问量">
    <i class="icon icon-eye"></i>
    <i class="busuanzi-value" id="busuanzi_value_site_pv"></i>
</span>

            
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://yewills.github.io/2020/05/01/ts/&title=《typescript 笔记》 — Mr.Yellow.Wills&pic=https://yewills.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://yewills.github.io/2020/05/01/ts/&title=《typescript 笔记》 — Mr.Yellow.Wills&source=hellow kity" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACuCAAAAACKZ2kyAAABu0lEQVR42u3aQXLDIAwFUN//0u42XZh8ISBp57HKMDg8e6EBSdcVj/tlvM6MVyZrrh0DFxe3zb2HI1mTbNz5f1xc3E9xnzborHnashoWcXFxv587d0BJAhkuLu5/4iYz/UCJi4t7nlsNNAlu/D/b72q4uLgNbn5A2fd7S34XFxd3insXx1y5pZOE/fUULi7uEW4eUMb0zstUn8LFxd3NTdIWeSNFP6n6Zl9cXNyD3GraIoFWSynRSlxc3CPc/BLSSbBWr0BvEii4uLgHuasaqjqhKpLg4uIe4a4KUjm3k4LBxcU9wx2Hm7zZYq5COpYUcjm4uLiLuP3SaR5hOl8UFxf3JHdViMmPNcnxKIq7uLi4m7n9i1CSHq0GvrxFAxcXdwe3w0peuDNTLrLi4uIu5XbSH2vTqdHlBxcX9wi3c3DpFE6S8FfO0+Di4ja4d3HkaY7qsWlB4gMXF3cRd20Hx45szeTL4OLitrmdZqx8ff4JJousuLi4G7j9CkynfFK+q+Hi4n4xNw9Sc21buLi4f4U7V2KphrPH9bi4uAe51faL/jWm2tyJi4t7klsNJf2yx9OlKJ/HxcXdxv0BQT57imO500AAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>


    
    <!-- main-js -->
<script type="text/javascript" src="//cdn.bootcss.com/jquery/2.1.0/jquery.min.js"></script>
<script type="text/javascript" src="/js/plugins/fastclick.js?v=1.3.9"></script>
<script type="text/javascript" src="/js/plugins/ios-orientationchange-fix.js?v=1.3.9"></script>
<script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.2/dist/jquery.fancybox.min.js"></script>

<script type="text/javascript" src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>

<script type="text/javascript" src="/js/method.js?v=1.3.9"></script>
<script type="text/javascript" src="/js/blog.js?v=1.3.9"></script>

<!-- third-party -->






<script type="text/javascript" src="/js/plugins/local_search.js?v=1.3.9"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) {
		search_path = "search.xml";
	}
	var path = "/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script>



<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



    
    





    <!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>







    
</body>
</html>
