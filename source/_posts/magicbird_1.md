---
title: 小鸟搬砖(一)
date: 2022/5/13
tags: [magicbird, 基建]
categories: 
- 前端工具
series: 基建
---


16年偶然了解到 搬砖小伟，觉得他挺牛的，如果能像他一样，那应该很酷，于是有了 小鸟搬砖 这个名字，英文名 magic bird （神奇的小鸟 哈哈）。


## 理念
推行的理念：总是使用最新的 版本；

## 随想

直接将 umi-next 克隆下来，
然后，基于此工程 进行公司定制化开发；

首先是 公司的模板；
比如 creat 出来的模板，

自己的配置；

首先想到的是 将里面所有的库，全部换一个名字；


首先学会 umi的 包管理能力；
脚手架能力；
如ts 等等；
我的目标是 创建一个普适的 前端脚手架：
左侧有菜单，顶部有tab，


## 学习历程

### 2022-5-15

#### 感想
时至今日，还未有一个非常有效率的方法，如何吃下umi，
umi太大了，要了解的东西很多，不知道从哪里入手，
感觉不能有捷径或偷懒的想法，
还得一步一个脚印的来，
但一步一个脚印来，又显得枯燥，
没有了兴趣，何谈持续性，
因此就找自己最感兴趣的，一步步来,

目前就是最刚兴趣，整个umi 脚手架，
比如 包管理、脚手架配置 等等。
那就先从这个入手吧。

### 2022-5-18

umi 太庞大了；
要想全学，耗时太长，
又因为没有实际项目做支持，恐怕很难坚持；

umi其实最重要的是  那一套思想 原理 以及umi项目的脚手架工具；
所以先从外围打起，
**先学所有的 umi 外围的 脚手架 npm script 工具是对的；**
后期主要学习umi，能看懂其源码，灵活使用umi，或者拿其源码修改；
至于 ant-design-pro 那些，没必要学习， 什么tab 什么面包屑，
这些都是业务逻辑实现，不会很难；
到最后，有空 可以学学

现在感觉 学习 umi 貌似 也没什么用，
也感觉 前端也没什么，再学是不是也无意义？？
学深了，感觉学多了，没有意义？？
有点想放弃umi的学习；
感觉东西 太多，太难，今天调试一个 mfsh ，太难了。


### 2022-5-20
感觉学习 大框架，本来是效率低，但收益高，的一件事情，
不能求快，
可能要大量使用车轮战，
笨办法


### 2022-9-26
今天开始 对 magicbird 进行实用性改造。


一套ui
一套umi
一套 生成的 脚手架模版tpl库  【一套umi， 与编译、模版相关的放在脚手架】
一套 monorepo库 【上面就是】

是要基于 umi ，还是直接自己手写；

如何将 monorepo 应用与 eslint demo、谷歌插件，

先做这个：
当自己想使用 react demo 时，web pack demo 有各种模版，
例如 router，sass，less，ts，等模版；
一套monorepo eslint、谷歌插件 可以以之前抄的插件为篮板【一套react monorepo脚手架】
【一套umi， 与编译、模版相关的放在脚手架】

【一套ui，ajax ，与业务相关的全部放到ui组件库中】









"bundler-esbuild": "bin/bundler-esbuild.js"
 "bundler-vite": "bin/bundler-vite.js"
 "bundler-webpack": "bin/bundler-webpack.js"

  "create-magicbird": "bin/create-umi.js"
 "father": "bin/father.js"
"max": "bin/max.js"
  "magicbird": "bin/umi.js"



创建一个需求，要显示显示 webpack配置，或者使用统一的 umi dev 或 build；
默认显示显示 webpack配置；
统一的 umi dev 或者 build，可以让 开发编译 或者 build 更加符合公司统一管理；
这就好比 很多公司使用公司脚手架，生成统一的项目模版一个道理；
一个是脚手架层面；
一个是公司模版级别，
公司业务组件用统一一个layout，后期要做任何事情，比如埋点、低代码等等，在模版中就可以做了；
但是 umi dev 就算可以显示生成 dev，但是最好使用统一的 umi dev，以便大家使用这个启动时，留个接口做事，哪怕就是一层转发；


但是 显示的 dev build 可以让开发更加的容易调试问题；

先做模版；


以及写一下以上的感想；
回去试一试 create-umi 的其他 umi-simple ant vue 等模版；

然后发布 自己的xnbz，
然后 用xnbz 创建模版，看是否能正常启动，然后写项目模版；


create-umi 所以模版都是写在这里；

模版不要自己手写，
找个模版 先从最简单的架子搞起来；
然后在补充，
**做事要快，先搞起来**


### 2022-9-28
#### 是重写umi还是直接用umi
大公司重写，小公司直接用；
如果是中台项目，无论大小公司，直接用吧；
由于umi的插件可扩展性，
基本上你可以写插件满足你公司的任何需求；
又由于umi是大公司做背书，持续更新的，
不用担心十年后umi被淘汰；

如果重写umi，一旦要使用新的技术，比如webpack 4 到 webpack 5；
或者 集成 vite 或 rollup 或 esbuild 等等，
个人很难有这个经历，还要踩坑，

直接使用umi 好处是 可以很快就是使用上 umi 最新的功能，而且umi的插件定制化确实牛逼；
坏处是 响应慢，定制化不够，黑箱；

直接手写umi 好处是响应快，定制化可以；
坏处是，升级需要耗费大量时间。

目前为止，还是非常不支持 umi 将打包那一套搞的非常黑盒，导致难以调试；

