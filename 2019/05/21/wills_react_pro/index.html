<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    
    
    <title>wills-react-pro项目笔记 | Mr.Yellow.Wills</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="react,redux-thunk">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/jquery.fancybox.min.css">
    <link rel="stylesheet" href="/css/style.css?v=1.3.9">
    
    <script type="text/javascript">
        // Data Center
        var DC = {
            reward:	true,
            lv: JSON.parse('{"enable":false,"app_id":null,"app_key":null,"icon":true}'),
            v: JSON.parse('{"enable":false,"appid":null,"appkey":null,"notify":true,"verify":true,"placeholder":"give me some sugers plz...","avatar":"wavatar"}'),
            g: JSON.parse('{"enable":false,"lazy":true,"owner":"codefine","repo":"gitment","oauth":{"client_id":null,"client_secret":null},"perPage":10}'),
            d: JSON.parse('{"app_id":null}')
        };
    </script>
    <script type="text/javascript">
        window.lazyScripts=[];
    </script>
    
</head>


<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      
      <img src="/img/brand.jpg" class="brand-bg">
      
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Mr.Yellow</h5>
          <a href="mailto:601661706@qq.com" title="601661706@qq.com" class="mail">
            
              <span>6</span>
            
              <span>0</span>
            
              <span>1</span>
            
              <span>6</span>
            
              <span>6</span>
            
              <span>1</span>
            
              <span>7</span>
            
              <span>0</span>
            
              <span>6</span>
            
              <span>@</span>
            
              <span>q</span>
            
              <span>q</span>
            
              <span>.</span>
            
              <span>c</span>
            
              <span>o</span>
            
              <span>m</span>
            
          </a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://github.com/YeWills/YeWills.github.io/tree/blog_code" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                HOME
              </a>
            </li>
        
            <li class="">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                CATEGORIES
              </a>
            </li>
        
            <li class="">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                TAGS
              </a>
            </li>
        
            <li class="">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                ARCHIVES
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>wills-react-pro项目笔记</span>
            
        </div>
        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">
    <img src="/img/banner.jpg" class="header-bg">
    <div class="container fade-scale">
        <h1 class="title">wills-react-pro项目笔记</h1>
        <h5 class="subtitle">
            
                <time datetime="2019-05-21T00:00:00.000Z" itemprop="datePublished" class="page-time">
  2019-05-21
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/备份/">备份</a></li></ul>

            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>


<div class="container body-wrap">
    <article id="post-wills_react_pro"
  class="post-article article-type-post" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">wills-react-pro项目笔记</h1>
        <div class="post-meta">
            <time class="post-time" title="2019-05-21 00:00:00" datetime="2019-05-21T00:00:00.000Z"  itemprop="datePublished">2019-05-21</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/备份/">备份</a></li></ul>



            

            


            
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            
            <p>本篇博客针对 github 的<a href="https://github.com/YeWills/react-redux-demo" target="_blank" rel="noopener">react_redux_demo项目</a>一些知识点讲解。</p>
<h2 id="redux-thunk"><a href="#redux-thunk" class="headerlink" title="redux-thunk"></a>redux-thunk</h2><p>项目使用了redux-thunk来处理异步请求，redux-thunk最重要的思想，就是可以接受一个返回函数的action creator。如果这个action creator 返回的是一个函数，就执行它，如果不是，就按照原来的next(action)执行。<br>正因为这个action creator可以返回一个函数，那么就可以在这个函数中执行一些异步的操作。<br><a href="https://www.jianshu.com/p/a27ab19d3657" target="_blank" rel="noopener">参考</a><br>详细示例可参考 项目的tag login_pro_v1.0<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//src/views/login/index.js</span><br><span class="line">const mapDispatchToProps = &#123;</span><br><span class="line">  loginUser: appAction.loginUser,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="ajax封装"><a href="#ajax封装" class="headerlink" title="ajax封装"></a>ajax封装</h2><h3 id="什么时候需要success提示"><a href="#什么时候需要success提示" class="headerlink" title="什么时候需要success提示"></a>什么时候需要success提示</h3><p>ajax分为两种：<br>一种是进入页面请求数据渲染页面的，此时不需要提示接口响应成功，只需loading即可。<br>一种是与后台交互，需要响应结果的，如交易、删除、编辑等，提交到后台，后台告知是否成功。<br>因此在做ajax封装时，可以不用配置success 的提示处理，需要提示的接口自行配置success提示处理。</p>
<h3 id="什么时候需要loading"><a href="#什么时候需要loading" class="headerlink" title="什么时候需要loading"></a>什么时候需要loading</h3><p>原则上每个请求都应该有loading，但是有很多组件有自己的loading样式，例如在非刷新整个页面的情况下，组件内刷新gird，只需在grid内显示loading，不需要统一的loading格式。<br>因此ajax封装时，配置可选的 loading标识是否loading。</p>
<h3 id="什么时候需要error提示"><a href="#什么时候需要error提示" class="headerlink" title="什么时候需要error提示"></a>什么时候需要error提示</h3><p>ajax封装需要封装请求异常处理并提示，统一的异常处理和提示应该放在最后，为了不同接口个性化errorhandle，配置errorhandle，优先级高于统一处理模式。</p>
<h3 id="断网时、请求超时的的error提示"><a href="#断网时、请求超时的的error提示" class="headerlink" title="断网时、请求超时的的error提示"></a>断网时、请求超时的的error提示</h3><p>断网和请求响应超时时，应该统一处理，并优先级最高。</p>
<h3 id="使用options"><a href="#使用options" class="headerlink" title="使用options"></a>使用options</h3><p>loading，errorhandle等等，有很多参数，使用一个对象参数options。</p>
<h3 id="ajax设计"><a href="#ajax设计" class="headerlink" title="ajax设计"></a>ajax设计</h3><p>项目通过两方面来封装 ajax：</p>
<ul>
<li>通过api.js 封装三个常用的ajax方法 post、get、delete，在此js上，主要封装axios相关。</li>
<li>通过createAsyncAction.js 抽象出 公共的请求的成功和异常处理。<br>这样的设计好处在于<br>可以将axios与 回调处理的代码分离管理，减少耦合性。<br>详细示例可参考 项目的tag login_pro_v1.0<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//src/views/login/index.js</span><br><span class="line">const mapDispatchToProps = &#123;</span><br><span class="line">  loginUser: appAction.loginUser,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="ajax过程的三次dispatch"><a href="#ajax过程的三次dispatch" class="headerlink" title="ajax过程的三次dispatch"></a>ajax过程的三次dispatch</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">dispatch(&#123;</span><br><span class="line">    meta,</span><br><span class="line">    type: `$&#123;name&#125;_REQUEST`,</span><br><span class="line">  &#125;);</span><br><span class="line">dispatch(&#123;</span><br><span class="line">  meta,</span><br><span class="line">  type: `$&#123;name&#125;_SUCCESS`,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">dispatch(&#123;</span><br><span class="line">  meta,</span><br><span class="line">  type: `$&#123;name&#125;_ERROR`,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>这三次dispatch可以用作如loading的控制等等。</p>
<h2 id="eslint"><a href="#eslint" class="headerlink" title="eslint"></a>eslint</h2><p>参考《eslint笔记》</p>
<h2 id="配置文件或相关"><a href="#配置文件或相关" class="headerlink" title="配置文件或相关"></a>配置文件或相关</h2><h3 id="jsconfig-json"><a href="#jsconfig-json" class="headerlink" title="jsconfig.json"></a>jsconfig.json</h3><h4 id="解决webpack别名点击不跳转问题"><a href="#解决webpack别名点击不跳转问题" class="headerlink" title="解决webpack别名点击不跳转问题"></a>解决webpack别名点击不跳转问题</h4><p><a href="https://www.jianshu.com/p/4ea2c5571123" target="_blank" rel="noopener">参考</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;compilerOptions&quot;: &#123;</span><br><span class="line">    &quot;baseUrl&quot;: &quot;.&quot;,</span><br><span class="line">    &quot;paths&quot;: &#123;</span><br><span class="line">      &quot;@/*&quot;: [</span><br><span class="line">        &quot;./src/*&quot;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="vscode对webpack别名提示补全"><a href="#vscode对webpack别名提示补全" class="headerlink" title="vscode对webpack别名提示补全"></a>vscode对webpack别名提示补全</h3><p>配置与 《解决webpack别名点击不跳转问题》类似，可自行网上查询。</p>
<h3 id="tsconfig-json"><a href="#tsconfig-json" class="headerlink" title="tsconfig.json"></a>tsconfig.json</h3><h4 id="解决webpack别名点击不跳转问题-1"><a href="#解决webpack别名点击不跳转问题-1" class="headerlink" title="解决webpack别名点击不跳转问题"></a>解决webpack别名点击不跳转问题</h4><p>道理同《jsconfig.json》</p>
<h4 id="其他功能"><a href="#其他功能" class="headerlink" title="其他功能"></a>其他功能</h4><p>待研究</p>
<h2 id="jest"><a href="#jest" class="headerlink" title="jest"></a>jest</h2><h3 id="mock的用法"><a href="#mock的用法" class="headerlink" title="mock的用法"></a>mock的用法</h3><p>示例见 <a href="https://github.com/YeWills/wills-react-pro" target="_blank" rel="noopener">wills-react-pro 的 Login.test.js</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const mockPost = jest.fn(testPost(&#123; success: false &#125;));</span><br></pre></td></tr></table></figure></p>
<h2 id="enzyme"><a href="#enzyme" class="headerlink" title="enzyme"></a>enzyme</h2><h3 id="shallow的两种情况"><a href="#shallow的两种情况" class="headerlink" title="shallow的两种情况"></a>shallow的两种情况</h3><p>shallow一个组件时，和shallow组件内一个返回div的函数用法稍微有区别，<br>前者需要通过’&lt;&gt;‘括号起来，后者不需要。<br>示例见 <a href="https://github.com/YeWills/wills-react-pro" target="_blank" rel="noopener">wills-react-pro 的 Login.test.js</a></p>
<h4 id="shallow一个组件"><a href="#shallow一个组件" class="headerlink" title="shallow一个组件"></a>shallow一个组件</h4><p>这种情况最通用，不多说：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shallow(&lt;Login /&gt;);</span><br></pre></td></tr></table></figure></p>
<h4 id="shallow组件内的函数返回的div"><a href="#shallow组件内的函数返回的div" class="headerlink" title="shallow组件内的函数返回的div"></a>shallow组件内的函数返回的div</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">renderErrorMsg = () =&gt; &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;div className=&#123;`$&#123;prefixCls&#125;-errorMsg`&#125;&gt;</span><br><span class="line">          &#123;errorMsg&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      );</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  //测试代码如下：</span><br><span class="line">  const ErrorComponent = warpInstance.renderErrorMsg();</span><br><span class="line">  const errorWrap = shallow(ErrorComponent);</span><br><span class="line">  expect(errorWrap.exists(&apos;.view-login-errorMsg&apos;)).toBeTruthy();</span><br></pre></td></tr></table></figure>
<h3 id="shallow测试hoc"><a href="#shallow测试hoc" class="headerlink" title="shallow测试hoc"></a>shallow测试hoc</h3><p>shallow一个经过hoc的组件时，只能shallow到hoc层面，为了能直接测试该组件时，需要特殊处理；<br>在hoc层面上，要写一句这样的代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FinalComponent.WrappedComponent = WrappedComponent;</span><br></pre></td></tr></table></figure></p>
<p>然后通过type属性，可以捕捉这个组件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const getComponentFromHoc = warp =&gt; (warp.type &amp;&amp; warp.type.WrappedComponent</span><br><span class="line">  ? &lt;warp.type.WrappedComponent &#123;...warp.props&#125; /&gt; : warp);</span><br></pre></td></tr></table></figure></p>
<p>详细demo见:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/YeWills/wills-react-pro/blob/master/src/utils/testUtil.js</span><br><span class="line">https://github.com/YeWills/wills-react-pro/blob/master/src/utils/connectWills.js</span><br><span class="line">https://github.com/YeWills/wills-react-pro/blob/master/test/Login.test.js</span><br></pre></td></tr></table></figure></p>
<h2 id="connected-react-router-与-history"><a href="#connected-react-router-与-history" class="headerlink" title="connected-react-router 与 history"></a>connected-react-router 与 history</h2><p>这是一种固定写法，不用过多关注：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//参考 项目的tag login_pro_v1.0</span><br><span class="line">//src/app/init/createStore.js</span><br><span class="line">import &#123; connectRouter, routerMiddleware &#125; from &apos;connected-react-router&apos;;</span><br><span class="line"></span><br><span class="line">connectRouter(history)(combineReducers(reducers)),</span><br></pre></td></tr></table></figure></p>
<h2 id="路由设计"><a href="#路由设计" class="headerlink" title="路由设计"></a>路由设计</h2><h3 id="ConnectedRouter配置"><a href="#ConnectedRouter配置" class="headerlink" title="ConnectedRouter配置"></a>ConnectedRouter配置</h3><p>ConnectedRouter类似BrowserRouter。MultiIntlProvider可以不用管就是一个高阶组件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;ConnectedRouter history=&#123;history&#125;&gt;</span><br><span class="line">    &lt;MultiIntlProvider defaultLocale=&#123;locale&#125; messageMap=&#123;messages&#125; &gt;</span><br><span class="line">        &lt;Switch&gt;</span><br><span class="line">            &lt;Route key=&#123;path&#125; path=&quot;/dashboard/analysis/realtime&quot; component=&#123;Page&#125; /&gt;</span><br><span class="line">        &lt;/Switch&gt;</span><br><span class="line">    &lt;/MultiIntlProvider&gt;</span><br><span class="line"> &lt;/ConnectedRouter&gt;</span><br></pre></td></tr></table></figure>
<h3 id="使用BrowserRouter"><a href="#使用BrowserRouter" class="headerlink" title="使用BrowserRouter"></a>使用BrowserRouter</h3><p>项目的具体布局主要看 src/src-acl-router/AclRouter.jsx;<br>本项目应该用的是BrowserRouter，而非HashRouter，因为页面的路由都没有#。<br>整理出来如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;BrowserRouter history=&#123;history&#125;&gt;</span><br><span class="line">    &lt;Switch&gt;</span><br><span class="line">      &lt;Route</span><br><span class="line">        path=&quot;/&quot;</span><br><span class="line">        render=&#123;() =&gt; &lt;Redirect to=&quot;/outlets&quot; /&gt;&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;Route</span><br><span class="line">        path=&quot;/login&quot;</span><br><span class="line">        render=&#123;props =&gt; (</span><br><span class="line">          &lt;NormalLayout &#123;...props&#125;&gt;</span><br><span class="line">            &lt;RouteComponent &#123;...props&#125; /&gt;</span><br><span class="line">          &lt;/NormalLayout&gt;</span><br><span class="line">        )&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;Route</span><br><span class="line">        path=&quot;/outlets&quot;</span><br><span class="line">        render=&#123;props =&gt; (</span><br><span class="line">          &lt;BasicLayout &#123;...props&#125;&gt;</span><br><span class="line">            &lt;RouteComponent &#123;...props&#125; /&gt;</span><br><span class="line">          &lt;/BasicLayout&gt;</span><br><span class="line">        )&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;Route</span><br><span class="line">        path=&quot;/exception/403&quot;</span><br><span class="line">        render=&#123;props =&gt; (</span><br><span class="line">          &lt;BasicLayout &#123;...props&#125;&gt;</span><br><span class="line">            &lt;Unauthorized &#123;...props&#125; /&gt;</span><br><span class="line">          &lt;/BasicLayout&gt;</span><br><span class="line">        )&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;Route</span><br><span class="line">        render=&#123;props =&gt; (</span><br><span class="line">          &lt;NotFound &#123;...props&#125; /&gt;</span><br><span class="line">        )&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">    &lt;/Switch&gt;</span><br><span class="line"> &lt;/BrowserRouter&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="页面权限管理"><a href="#页面权限管理" class="headerlink" title="页面权限管理"></a>页面权限管理</h3><p>通过 permissions 配置，通过比对 登陆后 个人的权限user.authorities 与 页面的 permissions，来重组拼合 上面的 《使用BrowserRouter》：<br><strong>本项目在登陆后会重新重组渲染上面的 《使用BrowserRouter》</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: &apos;/dashboard/analysis/offline&apos;,</span><br><span class="line">  exact: true,</span><br><span class="line">  permissions: [&apos;admin&apos;, &apos;user&apos;],</span><br><span class="line">  redirect: &apos;/login&apos;,</span><br><span class="line">  component: W11orkInProgress,</span><br><span class="line">  pageTitle: &apos;&apos;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h3><p>场景一：当用户对某个页面没有权限时，AclRouter会将此页面 重定向到403页面<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;Route</span><br><span class="line">        path=&quot;/outlets&quot;</span><br><span class="line">        render=&#123;() =&gt; &lt;Redirect to=&quot;/exception/403&quot; /&gt;&#125;</span><br><span class="line">      /&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="NotFound"><a href="#NotFound" class="headerlink" title="NotFound"></a>NotFound</h3><p>在《使用BrowserRouter》中的NotFound页面的路由设计挺好，此路由没有配置path，当上面的路由都未匹配时，就顺延到NotFound页面。</p>
<h3 id="路由配置项介绍"><a href="#路由配置项介绍" class="headerlink" title="路由配置项介绍"></a>路由配置项介绍</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: &apos;/outlets&apos;,</span><br><span class="line">  exact: true,</span><br><span class="line">  //权限</span><br><span class="line">  permissions: [&apos;admin&apos;, &apos;user&apos;],</span><br><span class="line">  //当有权限时，一切正常时显示Outlets</span><br><span class="line">  component: Outlets,</span><br><span class="line">  //当没有权限时，换成显示Unauthorized</span><br><span class="line">  unauthorized: Unauthorized,</span><br><span class="line">  pageTitle: &apos;pageTitle_outlets&apos;,</span><br><span class="line">  //面包屑</span><br><span class="line">  breadcrumb: [&apos;/outlets&apos;],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="AclRouter"><a href="#AclRouter" class="headerlink" title="AclRouter"></a>AclRouter</h3><p>所有路由重组，全部在 AclRouter.js.<br>这个js亮点在于，在登陆前与登陆后，改变 mapStateToProps 中的 user props值。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">const Router = (&#123; history, user &#125;) =&gt; (</span><br><span class="line">  &lt;ConnectedRouter history=&#123;history&#125;&gt;</span><br><span class="line">    &lt;MultiIntlProvider</span><br><span class="line">      defaultLocale=&#123;locale&#125;</span><br><span class="line">      messageMap=&#123;messages&#125;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;AclRouter</span><br><span class="line">        authorities=&#123;user.authorities&#125;</span><br><span class="line">        authorizedRoutes=&#123;authorizedRoutes&#125;</span><br><span class="line">        authorizedLayout=&#123;BasicLayout&#125;</span><br><span class="line">        normalRoutes=&#123;normalRoutes&#125;</span><br><span class="line">        normalLayout=&#123;NormalLayout&#125;</span><br><span class="line">        notFound=&#123;NotFound&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">    &lt;/MultiIntlProvider&gt;</span><br><span class="line">  &lt;/ConnectedRouter&gt;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">const mapStateToProps = state =&gt; (&#123;</span><br><span class="line">  user: state.app.user,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">Router.propTypes = propTypes;</span><br><span class="line">export default connect(mapStateToProps)(Router);</span><br></pre></td></tr></table></figure></p>
<p>根据登陆前后的user props值在 AclRouter.js中重组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;BrowserRouter history=&#123;history&#125;&gt;</span><br><span class="line">    &lt;Switch&gt;</span><br><span class="line">      &lt;Route</span><br><span class="line">        path=&quot;/&quot;</span><br><span class="line">        render=&#123;() =&gt; &lt;Redirect to=&quot;/outlets&quot; /&gt;&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;Route</span><br><span class="line">        path=&quot;/login&quot;</span><br><span class="line">        render=&#123;props =&gt; (</span><br><span class="line">          &lt;NormalLayout &#123;...props&#125;&gt;</span><br><span class="line">            &lt;RouteComponent &#123;...props&#125; /&gt;</span><br><span class="line">          &lt;/NormalLayout&gt;</span><br><span class="line">        )&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">      ......</span><br><span class="line">    &lt;/Switch&gt;</span><br><span class="line"> &lt;/BrowserRouter&gt;</span><br></pre></td></tr></table></figure></p>
<p>真正做到了根据用户权限，动态改变重组整个BrowserRouter组件。</p>
<h3 id="BrowserRouter是组件"><a href="#BrowserRouter是组件" class="headerlink" title="BrowserRouter是组件"></a>BrowserRouter是组件</h3><p>如上，BrowserRouter 可通过connect 的 mapStateToProps 中的 user props值 重新渲染 BrowserRouter。<br>这也验证了 react-router中说的所有router都是组件的说法。</p>
<h3 id="因为BrowserRouter是组件，所以能理所当然地使用connect"><a href="#因为BrowserRouter是组件，所以能理所当然地使用connect" class="headerlink" title="因为BrowserRouter是组件，所以能理所当然地使用connect"></a>因为BrowserRouter是组件，所以能理所当然地使用connect</h3><p>见《BrowserRouter是组件》<br>参考demo /src/app/init/Router.js</p>
<h2 id="redux-设计"><a href="#redux-设计" class="headerlink" title="redux 设计"></a>redux 设计</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>在初始化公共目录下的js中统一注入reducer，并写了一个公共的action和reducer，此公共的action和reducer可能很多页面都要用，因此写在公共目录下，供很多页面使用<br>：参考：src/app.<br>每个页面的reducer与action写在每个页面目录下,例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- outlets</span><br><span class="line">  - action.js</span><br><span class="line">  - index.js</span><br><span class="line">  - index.scss</span><br><span class="line">  - reducer.js</span><br></pre></td></tr></table></figure></p>
<h3 id="reducer"><a href="#reducer" class="headerlink" title="reducer"></a>reducer</h3><p>在初始化js中，统一注入reducer<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import outlets from &apos;views/outlets/reducer&apos;;</span><br><span class="line">import outletDetail from &apos;views/outletDetail/reducer&apos;;</span><br><span class="line">import app from &apos;../reducer&apos;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  app,</span><br><span class="line">  outlets,</span><br><span class="line">  outletDetail,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>每个页面的reducer写在每个页面的目录下。</p>
<h3 id="action"><a href="#action" class="headerlink" title="action"></a>action</h3><p>参考上面。</p>
<h3 id="connect"><a href="#connect" class="headerlink" title="connect"></a>connect</h3><p>每个页面都要处理 connect(mapStateToProps, mapDispatchToProps)(injectIntl(OutletDetail));</p>
<h3 id="等待改进部分"><a href="#等待改进部分" class="headerlink" title="等待改进部分"></a>等待改进部分</h3><p>connect 和 公共的action 单独整理 成connect高阶件，然后对比 考虑如何将post等继承其中</p>
<h2 id="待做"><a href="#待做" class="headerlink" title="待做"></a>待做</h2><ul>
<li>js源码调试</li>
<li>css-source map</li>
<li>mock</li>
<li>跨域请求 koa</li>
<li>webpack 代码分离 DllPlugin</li>
</ul>
<h1 id="版本v0-01"><a href="#版本v0-01" class="headerlink" title="版本v0.01"></a>版本v0.01</h1><h2 id="版本介绍"><a href="#版本介绍" class="headerlink" title="版本介绍"></a>版本介绍</h2><p>此版本是一个最简单的工程配置版本，指包含一个简单界面和项目最基本的html js css webpack处理。</p>
<h2 id="如何开始从0启动一个webpack项目"><a href="#如何开始从0启动一个webpack项目" class="headerlink" title="如何开始从0启动一个webpack项目"></a>如何开始从0启动一个webpack项目</h2><h3 id="注重-webpack-入口-："><a href="#注重-webpack-入口-：" class="headerlink" title="注重 webpack 入口 ："></a>注重 webpack 入口 ：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;start&quot;: &quot;webpack-dev-server --config webpack.dev.js&quot;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h3 id="项目最基本配置："><a href="#项目最基本配置：" class="headerlink" title="项目最基本配置："></a>项目最基本配置：</h3><p>一个项目无非围绕 html，css，js，图片，axios进行，因此对应的配置如下，本版本下的package.json配置的依赖都是基于以下最基本的配置：</p>
<h4 id="html"><a href="#html" class="headerlink" title="html"></a>html</h4><p>html模版插件</p>
<h4 id="css"><a href="#css" class="headerlink" title="css"></a>css</h4><p>scss、css、图片 loader<br>css、图片与html分离<br>css3加兼容性前缀</p>
<h4 id="js"><a href="#js" class="headerlink" title="js"></a>js</h4><p>es6、es7编译成es5<br>es6、es7的api(如Promise等等)运行profill<br>一些es6等相关的babel js插件</p>
<h4 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h4><h4 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h4><h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><p>webpack无非就是对html css js 图片文件的打包，因为又多了babel对js的打包，可以说工程项目中对js的打包是最丰富的。</p>

        </div>
        
<blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    最後更新時間：<time datetime="2022-09-29T17:43:00.631Z" itemprop="dateUpdated">2022-09-29 17:43:00</time>
</span><br>


        
        博客内容均为原创，转载注明出处，原文地址：<a href="/2019/05/21/wills_react_pro/" target="_blank" rel="external">https://yewills.github.io/2019/05/21/wills_react_pro/</a>
        
    </div>
    <footer>
        <a href="https://yewills.github.io">
            <img src="/img/avatar.jpg" alt="Mr.Yellow">
            Mr.Yellow
        </a>
    </footer>
</blockquote>

        
            <div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>

            
        
        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/redux-thunk/">redux-thunk</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://yewills.github.io/2019/05/21/wills_react_pro/&title=《wills-react-pro项目笔记》 — Mr.Yellow.Wills&pic=https://yewills.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://yewills.github.io/2019/05/21/wills_react_pro/&title=《wills-react-pro项目笔记》 — Mr.Yellow.Wills&source=hellow kity" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
            


        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="prev">
      <a href="/2019/05/21/koa2/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">koa2笔记</h4>
      </a>
    </div>
  

  
    <div class="next">
      <a href="/2019/04/09/calc/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">常用算法</h4>
      </a>
    </div>
  
</nav>


    
    
        <aside class="post-widget">
            <nav class="post-toc-wrap" id="post-toc">
                <strong>目录</strong>
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#redux-thunk"><span class="post-toc-number">1.</span> <span class="post-toc-text">redux-thunk</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#ajax封装"><span class="post-toc-number">2.</span> <span class="post-toc-text">ajax封装</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#什么时候需要success提示"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">什么时候需要success提示</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#什么时候需要loading"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">什么时候需要loading</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#什么时候需要error提示"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">什么时候需要error提示</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#断网时、请求超时的的error提示"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">断网时、请求超时的的error提示</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#使用options"><span class="post-toc-number">2.5.</span> <span class="post-toc-text">使用options</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ajax设计"><span class="post-toc-number">2.6.</span> <span class="post-toc-text">ajax设计</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ajax过程的三次dispatch"><span class="post-toc-number">2.7.</span> <span class="post-toc-text">ajax过程的三次dispatch</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#eslint"><span class="post-toc-number">3.</span> <span class="post-toc-text">eslint</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#配置文件或相关"><span class="post-toc-number">4.</span> <span class="post-toc-text">配置文件或相关</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#jsconfig-json"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">jsconfig.json</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#解决webpack别名点击不跳转问题"><span class="post-toc-number">4.1.1.</span> <span class="post-toc-text">解决webpack别名点击不跳转问题</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#vscode对webpack别名提示补全"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">vscode对webpack别名提示补全</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#tsconfig-json"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">tsconfig.json</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#解决webpack别名点击不跳转问题-1"><span class="post-toc-number">4.3.1.</span> <span class="post-toc-text">解决webpack别名点击不跳转问题</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#其他功能"><span class="post-toc-number">4.3.2.</span> <span class="post-toc-text">其他功能</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#jest"><span class="post-toc-number">5.</span> <span class="post-toc-text">jest</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#mock的用法"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">mock的用法</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#enzyme"><span class="post-toc-number">6.</span> <span class="post-toc-text">enzyme</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#shallow的两种情况"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">shallow的两种情况</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#shallow一个组件"><span class="post-toc-number">6.1.1.</span> <span class="post-toc-text">shallow一个组件</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#shallow组件内的函数返回的div"><span class="post-toc-number">6.1.2.</span> <span class="post-toc-text">shallow组件内的函数返回的div</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#shallow测试hoc"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">shallow测试hoc</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#connected-react-router-与-history"><span class="post-toc-number">7.</span> <span class="post-toc-text">connected-react-router 与 history</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#路由设计"><span class="post-toc-number">8.</span> <span class="post-toc-text">路由设计</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ConnectedRouter配置"><span class="post-toc-number">8.1.</span> <span class="post-toc-text">ConnectedRouter配置</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#使用BrowserRouter"><span class="post-toc-number">8.2.</span> <span class="post-toc-text">使用BrowserRouter</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#页面权限管理"><span class="post-toc-number">8.3.</span> <span class="post-toc-text">页面权限管理</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#重定向"><span class="post-toc-number">8.4.</span> <span class="post-toc-text">重定向</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#NotFound"><span class="post-toc-number">8.5.</span> <span class="post-toc-text">NotFound</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#路由配置项介绍"><span class="post-toc-number">8.6.</span> <span class="post-toc-text">路由配置项介绍</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#AclRouter"><span class="post-toc-number">8.7.</span> <span class="post-toc-text">AclRouter</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#BrowserRouter是组件"><span class="post-toc-number">8.8.</span> <span class="post-toc-text">BrowserRouter是组件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#因为BrowserRouter是组件，所以能理所当然地使用connect"><span class="post-toc-number">8.9.</span> <span class="post-toc-text">因为BrowserRouter是组件，所以能理所当然地使用connect</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#redux-设计"><span class="post-toc-number">9.</span> <span class="post-toc-text">redux 设计</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#概述"><span class="post-toc-number">9.1.</span> <span class="post-toc-text">概述</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#reducer"><span class="post-toc-number">9.2.</span> <span class="post-toc-text">reducer</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#action"><span class="post-toc-number">9.3.</span> <span class="post-toc-text">action</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#connect"><span class="post-toc-number">9.4.</span> <span class="post-toc-text">connect</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#等待改进部分"><span class="post-toc-number">9.5.</span> <span class="post-toc-text">等待改进部分</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#待做"><span class="post-toc-number">10.</span> <span class="post-toc-text">待做</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#版本v0-01"><span class="post-toc-number"></span> <span class="post-toc-text">版本v0.01</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#版本介绍"><span class="post-toc-number">1.</span> <span class="post-toc-text">版本介绍</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#如何开始从0启动一个webpack项目"><span class="post-toc-number">2.</span> <span class="post-toc-text">如何开始从0启动一个webpack项目</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#注重-webpack-入口-："><span class="post-toc-number">2.1.</span> <span class="post-toc-text">注重 webpack 入口 ：</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#项目最基本配置："><span class="post-toc-number">2.2.</span> <span class="post-toc-text">项目最基本配置：</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#html"><span class="post-toc-number">2.2.1.</span> <span class="post-toc-text">html</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#css"><span class="post-toc-number">2.2.2.</span> <span class="post-toc-text">css</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#js"><span class="post-toc-number">2.2.3.</span> <span class="post-toc-text">js</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#webpack"><span class="post-toc-number">2.2.4.</span> <span class="post-toc-text">webpack</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#axios"><span class="post-toc-number">2.2.5.</span> <span class="post-toc-text">axios</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#小结"><span class="post-toc-number">2.2.6.</span> <span class="post-toc-text">小结</span></a></li></ol></li></ol></li></ol>
            </nav>
            <div class="toc-bar"><div>
        </aside>
    
</article>

    <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        我们一起来让这个世界有趣一点
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/reward-wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/reward-wechat.jpg" data-alipay="/img/reward-alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>

    

</div>

        <footer class="footer">
    
    <div class="top">
        
            <p>
    <span>Links：</span>
    
    <span class="blogroll-item">
        <a href="https://www.lujingtao.com" target="_blank">HOME</a>
    </span>
    
</p>

        
    </div>
    
    <div class="bottom">
        <p>
            <span>
                Mr.Yellow &copy; 2017 - 2022
            </span>
        		
           	
            
            
            <span>
	            Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/codefine/hexo-theme-mellow" target="_blank">mellow</a>
            </span>
            
            
            

            
                
<span class="site-uv" title="总访客量">
    <i class="icon icon-user"></i>
    <i class="busuanzi-value" id="busuanzi_value_site_uv"></i>
</span>


<span class="site-pv" title="总访问量">
    <i class="icon icon-eye"></i>
    <i class="busuanzi-value" id="busuanzi_value_site_pv"></i>
</span>

            
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://yewills.github.io/2019/05/21/wills_react_pro/&title=《wills-react-pro项目笔记》 — Mr.Yellow.Wills&pic=https://yewills.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://yewills.github.io/2019/05/21/wills_react_pro/&title=《wills-react-pro项目笔记》 — Mr.Yellow.Wills&source=hellow kity" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACLUlEQVR42u3a226DMBBF0fz/T9PXSgh7nzGkxbP9FKUEvKg0mos/H7yOXyu98vz5fJ/jtD5PLBkyZLyWcQzXeSvkV+Prr3hj9oQqQ4aMBoyrCLZya/T4YcAle5MhQ4aM8TWcPQ7c6XNlyJAhgwRZXtzykvVLAVeGDBmvZZAilnzPw+uf1eIyZMh4IYN33b//+ZH5hgwZMl7FOMK10krjY9F4VzJkyNiaURth8hZ/LYjzu8mQIaMPY+VGtWSuVhKjXcmQIWM7xkqDPk0K1xt2lzuUIUNGewb5nvNqI4RJoJchQ0YDRnp464YQGY4nUaNNhgwZWzPSW6dIUsqSUQE6ECZDhoxNGWnLbOVXtUHp5OkyZMhowOBtNbJ1fj1PKyd/lSFDRjNGmqLxNhkPsvFIVYYMGS0ZnFSjroT7YIsyZMjYglHb+r1lbW3AKUOGjD4MfsAiTfvSYScaVV69aBkyZGzNuCtZ5Olj7SgGeWUyZMjow3iuxCUAPs6UIUNGNwYxpUe1eLKYJqaTQaYMGTIaMNIwxwPl+ghz8o0MGTK2ZvCBYq25z8MrT1WDKlyGDBkvZxzhCgIfeBFpQw39B2TIkLEdo3b8gmyu1rwjjbm4ayhDhowtGLVkjgwd0ybd0iuTIUNGAwYJfDyYpjE+LWXjSC9DhozGDB58ayVuQJUhQ4aM0hGxNNGUIUOGDN5KS4vYtNytbfTxdpsMGTL+MSMtHXnorA0J0sAtQ4aMrRk/n7kd8/RWNmAAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>


    
    <!-- main-js -->
<script type="text/javascript" src="/js/plugins/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="/js/plugins/fastclick.js?v=1.3.9"></script>
<script type="text/javascript" src="/js/plugins/ios-orientationchange-fix.js?v=1.3.9"></script>
<script type="text/javascript" src="/js/plugins/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="/js/plugins/MathJax.js"></script>
<script type="text/javascript" src="/js/plugins/TeX-AMS-MML_HTMLorMML.js"></script>
<script type="text/javascript" src="/js/plugins/MathMenu.js"></script>
<script type="text/javascript" src="/js/plugins/MathZoom.js"></script>

<script type="text/javascript" src="/js/plugins/waves.min.js"></script>

<script type="text/javascript" src="/js/method.js?v=1.3.9"></script>
<script type="text/javascript" src="/js/blog.js?v=1.3.9"></script>

<!-- third-party -->






<script type="text/javascript" src="/js/plugins/local_search.js?v=1.3.9"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) {
		search_path = "search.xml";
	}
	var path = "/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script>



<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



    
    





    <!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src=""></script>







    
</body>
</html>
